@model List<List<QA_LISSummary.Models.LABEL_VALUE_CHARTS>>

<div class="container">
    <div class="row">

        <form class="row g-3" action="@Url.Action("", "FanPeakDataQA")">

            <div class="col-auto">
                <input type="date" class="form-control" name="startDate" value="@ViewBag.StartDate" />
            </div>
            <div class="col-auto"> <label style="margin-top:6px"> : </label></div>
            <div class="col-auto">
                <input type="date" class="form-control" name="endDate" value="@ViewBag.EndDate" />

            </div>

            <div class="col-md-auto">

                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg" name="DropDownS">
                    <option value="@ViewBag.DropdownS" selected>
                        @ViewBag.TypeFAN
                        @{
                            if (@ViewBag.DropdownS == null)
                            {
                                @Html.Raw("Please select part-test..");
                            }
                            else
                                if (@ViewBag.DropdownS == "ALL")
                            {
                                @Html.Raw(" Part-Test");
                            }
                            else
                            { @Html.Raw("(") @ViewBag.DropdownS; @Html.Raw(")")}
                        }

                    </option>
                    <option value="ALL"> ALL </option>
                    @foreach (var str in ViewBag.Part_Array)
                    {
                        <option value="@str.part"> @str.part_desc </option>
                    }
                </select>
            </div>
            <div class="col-md-auto">
                <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg" name="DPNMarket">
                    <option value="@ViewBag.DPNMarket" selected>
                        @{
                            if (@ViewBag.DPNMarket == null)
                            {
                                @Html.Raw("Please select market..");
                            }
                            else
                                if (@ViewBag.DPNMarket == "ALL")
                            {
                                @ViewBag.DPNMarket;
                                @Html.Raw(" Market");
                            }
                            else
                            {
                                @ViewBag.DPNMarket;
                            }
                        }
                    </option>
                    <option value="ALL"> ALL </option>
                    @foreach (var str in ViewBag.Part_Markets)
                    {
                        <option value="@str.PropertyValue"> @str.PropertyValue </option>
                    }
                </select>
            </div>

            <div class="col-md-auto">
                <select class="form-select form-select-lg mb-3" aria - label=".form-select-lg" name="DPNPhase">
                    <option value="@ViewBag.DPNPhase" selected>
                        @{
                            if (@ViewBag.DPNPhase == null)
                            {
                                @Html.Raw("Please select phase..");
                            }
                            else
                                if (@ViewBag.DPNPhase == "ALL")
                            {
                                @ViewBag.DPNPhase; @Html.Raw(" Phase");
                            }
                            else
                            {
                                @ViewBag.DPNPhase;
                            }
                        }
                    </option>
                    <option value="ALL"> ALL </option>
                    @foreach (var str in ViewBag.Part_DDPhase)
                    {
                        <option value="@str.PropertyValue"> @str.PropertyValue </option>
                    }
                </select>



            </div>

            <div class="col-md-auto"> <button type="submit" class="btn btn-dark mb-lg-1">OK</button> </div>
        </form>



        <div class="mt-3">
            <div class="ms-0 row mb-2">


                <div class="card-body pt-1 pb-0">
                    <div class="row">

                        <text>

                            <div class="col-2 p-1 border border-1 rounded-1 position-relative bg-white d-flex flex-column" style="width: 1500px; margin: .08em .08em; min-height: 650px;">


                                <div id="@string.Concat("chart-live", "CH1")" class="flex-grow-1"></div>

                            </div>
                        </text>

                    </div>
                </div>


            </div>


        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-auto">

            <label> SINGLE</label>
            <table class="table table-bordered" style="width:300px">
                <thead>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row" style="color:#808080;">STDV</th>
                        <td>@ViewBag.STDV_SINGLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">LSL</th>
                        <td>@ViewBag.LowerLim</td>

                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">USL</th>
                        <td>@ViewBag.UpperLim</td>

                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">AVG</th>
                        <td>@ViewBag.AVGX_SINGLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">SAMPLES</th>

                        <td>@ViewBag.SAMPLES_SINGLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CP</th>

                        <td>@ViewBag.CP_SINGLE </td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CPU</th>

                        <td>@ViewBag.CPU_SINGLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CPL</th>
                        <td>@ViewBag.CPL_SINGLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CPK</th>
                        <td>@ViewBag.CPK_SINGLE</td>
                    </tr>

            </table>
        </div>

        <div class="col-md-auto">

            <label> DOUBLE</label>
            <table class="table table-bordered" style="width:300px;">
                <thead>

                </thead>
                <tbody>
                    <tr>
                        <th scope="row" style="color:#808080;">STDV</th>
                        <td>@ViewBag.STDV_DOUBLE</td>

                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">LSL</th>
                        <td>@ViewBag.LowerLim</td>

                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">USL</th>
                        <td>@ViewBag.UpperLim</td>

                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">AVG</th>
                        <td>@ViewBag.AVGX_DOUBLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">SAMPLES</th>

                        <td>@ViewBag.SAMPLES_DOUBLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CP</th>

                        <td>@ViewBag.CP_DOUBLE </td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CPU</th>

                        <td>@ViewBag.CPU_DOUBLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CPL</th>
                        <td>@ViewBag.CPL_DOUBLE</td>
                    </tr>
                    <tr>
                        <th scope="row" style="color:#808080;">CPK</th>
                        <td>@ViewBag.CPK_DOUBLE</td>
                    </tr>

            </table>
        </div>
    </div>
</div>
@section scripts {
    <script>
        let chartW = '100%';
        let chartH = '100%';
        let chartOptions = {

            "caption": "Fan Peak",
            "yaxisname": "Reuslts Test",
            "xaxisname": "Day of Month",
            @*"xaxismaxvalue": "@ViewBag.TotalDays",*@
       //     "xaxisminvalue": "1",
         //   "xaxisminvalue": "10000",
       //     "yaxisminvalue": "1",
            //     "yaxismaxvalue": "1500",
            "sYAxisMaxValue": "50",
            "theme": "fusion"
        };

        FusionCharts.ready(function () {
            let chartLiveDataObjs = [];




            @{
        <text>


          var events = @Html.Raw(Json.Encode(Model));
            var FanPeakSingle = events[0];
            var FanPeakDouble = events[1];
            //FanPeakSingle.label.push("0");
          //  FanPeakSingle["label"] = 0;
            //  FanPeakSingle.push = '1000';

            FanPeakSingle.push({
                label: '0',
                value: '0',
                // or any other data we want to add in that object
            });
          //  const jsonData = JSON.parse(data);

            const cars = [];

            var objss2 = Object.entries(cars);
            var objss = Object.entries(cars);
            objss.push(
                {

                value: @ViewBag.CPK_DOUBLE,
                // or any other data we want to add in that object
            },
                {

                    value: @ViewBag.CPL_DOUBLE,
                    // or any other data we want to add in that object
                },
                {

 value: @ViewBag.CP_DOUBLE,

                    // or any other data we want to add in that object
                },{

                   value: @ViewBag.CPU_DOUBLE,
    // or any other data we want to add in that object
            },
                {

                    value: @ViewBag.CPK_DOUBLE,
                    // or any other data we want to add in that object
                }
            );


            objss2.push(
                {

                    value: 0,
                    // or any other data we want to add in that object
                },
                {

                    value: 3,
                    // or any other data we want to add in that object
                },
                {

                    value: 0,
                    // or any other data we want to add in that object
                },
                {

                    value: 3,
                    // or any other data we want to add in that object
                },
                {
                    value: 0,
                    // or any other data we want to add in that object
                }
                ,
                {
                    value: 0,
                    // or any other data we want to add in that object
                }
            );

            console.log(objss);
            console.log(FanPeakSingle);
        //    FanPeakSingle.label.viewers[newUser] = newValue;
        chartLiveDataObjs.push(new FusionCharts({
            type: 'mscombidy2d',

            renderAt: '@string.Concat("chart-live", "CH1")',
            width: chartW, height: chartH,
            showChartLoadingMessage: false,
            dataFormat: 'json',
            dataSource: {
                chart: chartOptions,
                "data": FanPeakSingle,
                "categories": [

                    {

                        "category":
                            [{
                                "label": "1"
                            },
                            {
                                    "label": "2"
                                },
                                {
                                    "label": "3"
                                },
                                {
                                    "label": "4"
                                }
                                ,
                                {
                                    "label": "5"
                                }
                                //{
                                //    "label": "6"
                                //}
                            ]
                    }],
                //            //    {
                //            //        //        "drawline": "1",

                //            //        //        "seriesname": "Fan Peak Single",
                //            //        //        "color": "0075c2",
                //            //        //        "anchorsides": "4",
                //            //        //        "anchorradius": "4",
                //            //        //        "anchorbgcolor": "0075c2",
                //            //        //        "anchorbordercolor": "0075c2",
                //            //        "data": [{
                //            //            "value": "600"
                //            //        }, {
                //            //               // "value": "1400"
                //            //            }
                //            //        ]

                //            //    }
                //            //]
                //        [{
                //            "label": "Q1"
                //        }]

                //       // FanPeakSingle
                //        //    [
                //        //    {
                //        //        "label": "Jan"
                //        //    },
                //        //    {
                //        //        "label": "Feb"
                //        //    },
                //        //    {
                //        //        "label": "Mar"
                //        //    },
                //        //    {
                //        //        "label": "Apr"
                //        //    },
                //        //    {
                //        //        "label": "May"
                //        //    },
                //        //    {
                //        //        "label": "Jun"
                //        //    },
                //        //    {
                //        //        "label": "Jul"
                //        //    },
                //        //    {
                //        //        "label": "Aug"
                //        //    },
                //        //    {
                //        //        "label": "Sep"
                //        //    },
                //        //    {
                //        //        "label": "Oct"
                //        //    },
                //        //    {
                //        //        "label": "Nov"
                //        //    },
                //        //    {
                //        //        "label": "Dec"
                //        //    }
                //        //]
                //    }
                //],
                "dataset": [
                    {
                    "renderAs": "line",
                    "data": objss
                    },
                    {

                        "data": objss2
                    }
                ]

                  //  {
                        //        "drawline": "1",

                        //        "seriesname": "Fan Peak Single",
                        //        "color": "0075c2",
                        //        "anchorsides": "4",
                        //        "anchorradius": "4",
                        //        "anchorbgcolor": "0075c2",
                        //        "anchorbordercolor": "0075c2",
                       //"parentXAxis": "S",
                       // //"showValues": "0",
                       // "data": [
                       // {
                       //     "value": "1400"
                       // }
                       // ]

                    //},

                 //   {
                        //        "drawline": "1",

                      //  "parentYAxis": "S",
                        //        "seriesname": "Fan Peak Single",
                     //           "color": "0075c2",
                        //        "anchorsides": "4",
                        //        "anchorradius": "4",
                        //        "anchorbgcolor": "0075c2",
                        //        "anchorbordercolor": "0075c2",
                    //    "data": objss



                  //  }
                    //,
                    //{
                    //    "seriesName": "Profit %",
                    ////    "parentYAxis": "S",
                    // //   "renderAs": "area",
                    // //   "showValues": "0",
                    //    "data": objss
                    //},
                    //{
                    //    "seriesName": "ProCCt %",
                    //    //    "parentYAxis": "S",
                    //    //   "renderAs": "area",
                    //    //   "showValues": "0",
                    //    "data": objss
                    //}

                  //  {
                        //        "drawline": "1",

                        //  "parentYAxis": "S",
                        //        "seriesname": "Fan Peak Single",
                        //        "color": "0075c2",
                        //        "anchorsides": "4",
                        //        "anchorradius": "4",
                        //        "anchorbgcolor": "0075c2",
                        //        "anchorbordercolor": "0075c2",
                    //    "seriesName": "Revenues",
                    //    "data": [
                    //        {
                    //            "value": "16000"
                    //        }]

                    //}

                //],
                //"trendlines": [
                //    {
                //        "line": [
                //            {
                //                "startvalue": "0",
                //                "endvalue": "0",
                //                "color": "#0075c2",
                //                "displayvalue": "Previous{br}Average",
                //                "valueOnRight": "1",
                //                "thickness": "1",
                //                "showBelow": "1",
                //                "tooltext": "Previous year quarterly target  : $13.5K"

                //            }]
                //    }]
                    //}
                    //,
                    // {
                    //    "drawline": "1",
                    //    "seriesname": "Fan Peak Double",
                    //     "color": "1aaf5d",
                    //    "anchorsides": "4",
                    //    "anchorradius": "4",
                    //     "anchorbgcolor": "1aaf5d",
                    //     "anchorbordercolor": "1aaf5d",
                    //     "data": FanPeakDouble
                    //}

               // ],
                //"vtrendlines": [
                //    {
                //        "line": [

                //         //   {
                //         ////       "startvalue": "160",
                //         ////       "endvalue": "180",
                //         //       "alpha": "35",
                //         //       "color": "00FF00"
                //         //   },

                //             {
                //                "startvalue": "120",
                //                "endvalue": "830",
                //                "alpha": "515",
                //                "color": "00FF00"
                //            }
                //        ]
                //    }
                //],
                //"trendlines": [
                //    {
                //        "line": [
                //{
                //    "startvalue": "220",
                //    "endvalue": "650",
                //    "alpha": "5",
                //    "color": "00FF00"
                //},
                            @*,
                            {
                            //    "startvalue": "@ViewBag.UpperLim",
                            //    "displayvalue": "Upper",
                                "linethickness": "2",
                                "color": "FF0000",
                                "valueonright": "1",
                                "dashed": "1",
                                "dashgap": "5"
                            }*@
                    //    ]
                    //}
                    //]

               }}));
        </text>

}

            chartLiveDataObjs.forEach((e) => e.render());


        });
    </script>
}
