!function(e){"object"==typeof module&&void 0!==module.exports?module.exports=e:e()}(function(){(window.webpackJsonpFusionCharts=window.webpackJsonpFusionCharts||[]).push([[15],{1298:function(e,t,o){"use strict";var r=o(249),a=(t.__esModule=!0,t.default=void 0,r(o(1299))),r=(t.Maps=a.default,{name:"maps",type:"package",requiresFusionCharts:!0,extension:function(e){return e.addDep(a.default)}});t.default=r},1299:function(e,t,o){"use strict";var r=o(249),a=(t.__esModule=!0,t.default=void 0,r(o(268))),n=r(o(599)),l=o(270),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=g(t);if(t&&t.has(e))return t.get(e);var o,r,a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&((r=n?Object.getOwnPropertyDescriptor(e,o):null)&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]);return a.default=e,t&&t.set(e,a),a}(o(510)),s=r(o(256)),c=o(261),f=o(254),h=r(o(1300)),d=r(o(499)),u=r(o(1093)),p=r(o(1097));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(g=function(e){return e?o:t})(e)}var m,b,k=(0,f.extend2)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},i),v={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},C={getMapName:function(){return this.jsVars.instanceAPI.getName().toLowerCase()},getEntityList:function(){for(var e,t,o,r,a=this.jsVars.instanceAPI.getDatasets()||[],n=a.length,l=[],i=0;i<n;i++)if("entities"===(t=a[i]||[]).getName()){e=t;break}for(i in n=(o=e.components.data).length,o)o.hasOwnProperty(i)&&(r=(o[i]||{}).config||{},l.push({id:r.id,originalId:r.originalId||r.id,label:r.label,shortlabel:r.shortLabel,value:r.value,formattedValue:r.formattedValue,toolText:r.toolText}));return l},getMapAttribute:function(){return(0,c.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),this.getChartAttribute.apply(this,arguments)},exportMap:function(){var e=this;return(0,c.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){for(var t,o,r=this.jsVars.instanceAPI.getDatasets()||[],a=r.length,n=0;n<a;n++)if("markers"===(t=r[n]||[]).getName()){o=t;break}o&&!o.addMarkerItem(e)&&(0,c.raiseWarning)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){for(var o,r,a=this.jsVars.instanceAPI.getDatasets()||[],n=a.length,l=0;l<n;l++)if("markers"===(o=a[l]||[]).getName()){r=o;break}r&&e&&(e=(e+y).toLowerCase(),r.updateMarkerItem(e,t))},removeMarker:function(e){for(var t,o,r=this.jsVars.instanceAPI.getDatasets()||[],a=r.length,n=0;n<a;n++)if("markers"===(t=r[n]||[]).getName()){o=t;break}e&&(e=(e+y).toLowerCase(),o._removeMarkerItem(e))}},y="",r=window.Math,L=r.min,x=r.max,F=(b=l.ComponentInterface,(0,a.default)(A,b),A),i=(m=n.default,(0,a.default)(w,m),(o=w.prototype)._checkInvalidSpecificData=function(){return this.config.invalid=!1},o.__setDefaultConfig=function(){m.prototype.__setDefaultConfig.call(this);var e=this.config;e.baseWidth||(e.baseWidth=400),e.baseHeight||(e.baseHeight=300),e.baseScaleFactor||(e.baseScaleFactor=1)},w.getName=function(){return"maps"},w.getType=function(){return"chartAPI"},o.getName=function(){return this.config.name||"GEO"},o.getType=function(){return"chartAPI"},o.configureAttributes=function(e){var t=this.getChildren("colorPalette")&&this.getChildren("colorPalette")[0],o=e.chart=e.chart||e.graph||e.map||{};this.jsonData=e,t||(t=new F(this.colorPaletteMap,(0<o.palette&&o.palette<6?o.palette:(0,f.pluckNumber)(this.paletteIndex,1))-1),this.attachChild(t,"colorPalette")),this.config.skipCanvasDrawing=!0,m.prototype.configureAttributes.call(this,e),this._parseBackgroundCosmetics()},o.parseChartAttr=function(e){var t,o,r,a,n=this.jsonData,l=n.chart||n.map,i=n.markers,s=new F(this.colorPaletteMap,(0<l.palette&&l.palette<6?l.palette:(0,f.pluckNumber)(this.paletteIndex,1))-1),c=(0,f.pluck)(l.entitybordercolor,l.bordercolor,s.plotbordercolor),h=(0,f.pluck)(l.entityfillcolor,l.fillcolor,s.plotfillcolor),d=(0,f.pluck)(l.entityfillalpha,l.fillalpha,s.plotfillalpha),u=(0,f.pluck)(l.entityfillratio,l.fillratio,s.plotfillratio),p=(0,f.pluck)(l.entityfillangle,l.fillangle,s.plotfillangle),g=(0,f.pluck)(l.nullentityfillcolor,l.nullentitycolor,h),n=(0,f.pluckNumber)(l.usevaluesformarkers,n.markers&&n.markers.items&&n.markers.items.length,!(n.markers&&n.markers.application&&n.markers.application.length&&n.markers.definition&&n.markers.definition.length));m.prototype.parseChartAttr.call(this,e),(e=this.config).origMarginTop=(0,f.pluckNumber)(l.charttopmargin,l.maptopmargin,11),e.origMarginLeft=(0,f.pluckNumber)(l.chartleftmargin,l.mapleftmargin,11),e.origMarginBottom=(0,f.pluckNumber)(l.chartbottommargin,l.mapbottommargin,11),e.origMarginRight=(0,f.pluckNumber)(l.chartrightmargin,l.maprightmargin,11),e.labelsOnTop=(0,f.pluckNumber)(l.entitylabelsontop,1),t=(a=e.style).inCancolor,o=a.inCanfontFamily,r=a.inCanfontSize,e.entityOpts={baseScaleFactor:e.baseScaleFactor,dataLabels:{style:{fontFamily:o,fontSize:r,lineHeight:a.inCanLineHeight,color:(0,f.pluck)(l.entitylabelcolor,a.inCancolor),bgColor:(0,f.pluck)(l.entitylabelbgcolor)||y,borderColor:(0,f.pluck)(l.entitylabelbordercolor)||y}},fillColor:h,fillAlpha:d,fillRatio:u,fillAngle:p,borderColor:c,borderAlpha:(0,f.pluck)(l.entityborderalpha,l.borderalpha,this.borderAlpha,"100"),borderThickness:(0,f.pluckNumber)(l.showentityborder,l.showborder,1)?(0,f.pluckNumber)(l.entityborderthickness,l.borderthickness,1):0,scaleBorder:(0,f.pluckNumber)(l.scaleentityborder,l.scaleborder,0),hoverFillColor:(0,f.pluck)(l.entityfillhovercolor,l.hoverfillcolor,l.hovercolor,s.plothoverfillcolor),hoverFillAlpha:(0,f.pluck)(l.entityfillhoveralpha,l.hoverfillalpha,l.hoveralpha,s.plothoverfillalpha),hoverFillRatio:(0,f.pluck)(l.entityfillhoverratio,l.hoverfillratio,l.hoverratio,s.plothoverfillratio),hoverFillAngle:(0,f.pluck)(l.entityfillhoverangle,l.hoverfillangle,l.hoverangle,s.plothoverfillangle),hoverBorderThickness:(0,f.pluck)(l.entityborderhoverthickness,l.hoverborderthickness),hoverBorderColor:(0,f.pluck)(l.entityborderhovercolor,c,s.plotbordercolor),hoverBorderAlpha:(0,f.pluck)(l.entityborderhoveralpha,s.plotborderalpha),nullEntityColor:g,nullEntityAlpha:(0,f.pluck)(l.nullentityfillalpha,l.nullentityalpha,d),nullEntityRatio:(0,f.pluck)(l.nullentityfillratio,l.nullentityratio,u),nullEntityAngle:(0,f.pluck)(l.nullentityfillangle,l.nullentityangle,p),connectorColor:(0,f.pluck)(l.labelconnectorcolor,l.connectorcolor,t),connectorAlpha:(0,f.pluck)(l.labelconnectoralpha,l.connectoralpha,"100"),connectorThickness:(0,f.pluckNumber)(l.labelconnectorthickness,l.borderthickness,1),showHoverEffect:(0,f.pluckNumber)(l.showentityhovereffect,l.usehovercolor,l.showhovereffect,1),hoverOnNull:(0,f.pluckNumber)(l.hoveronnull,l.entityhoveronnull,1),labelPadding:(0,f.pluckNumber)(l.labelpadding,5),showLabels:(0,f.pluckNumber)(l.showlabels,1),labelsOnTop:(0,f.pluckNumber)(l.entitylabelsontop,1),includeNameInLabels:(0,f.pluckNumber)(l.includenameinlabels,1),includeValueInLabels:(0,f.pluckNumber)(l.includevalueinlabels,0),useSNameInTooltip:(0,f.pluckNumber)(l.usesnameintooltip,0),useShortName:(0,f.pluckNumber)(l.usesnameinlabels,1),labelSepChar:(0,f.pluck)(l.labelsepchar,", "),showTooltip:(0,f.pluckNumber)(l.showentitytooltip,l.showtooltip,1),tooltipSepChar:(0,f.pluck)(l.tooltipsepchar,", "),tooltext:l.entitytooltext,hideNullEntities:(0,f.pluckNumber)(l.hidenullentities,0),showHiddenEntityBorder:(0,f.pluckNumber)(l.showhiddenentityborder,1),showNullEntityBorder:(0,f.pluckNumber)(l.shownullentityborder,1),hiddenEntityColor:(0,f.pluck)(l.hiddenentitycolor,l.hiddenentityfillcolor,l.hiddenentityalpha||l.hiddenentityfillalpha?g:"ffffff"),hiddenEntityAlpha:(0,f.pluck)(l.hiddenentityalpha,l.hiddenentityfillalpha,.001),shadow:(0,f.pluckNumber)(l.showshadow,this.defaultPlotShadow,s.shadow)},e.markerOpts={dataLabels:{style:{fontFamily:(0,f.pluck)(l.markerfont,o),fontSize:(0,f.pluckNumber)(l.markerfontsize,parseInt(r,10)),fontColor:(0,f.pluck)(l.markerlabelcolor,l.markerfontcolor,t),labelBgColor:(0,f.pluck)(l.markerlabelbgcolor)||y,labelBorderColor:(0,f.pluck)(l.markerlabelbordercolor)||y}},showTooltip:(0,f.pluckNumber)(l.showmarkertooltip,l.showtooltip,1),showLabels:(0,f.pluckNumber)(l.showmarkerlabels,l.showlabels,1),showHoverEffect:(0,f.pluckNumber)(l.showmarkerhovereffect,1),labelPadding:(0,f.pluck)(l.markerlabelpadding,"5"),labelWrapWidth:(0,f.pluckNumber)(l.markerlabelwrapwidth,0),labelWrapHeight:(0,f.pluckNumber)(l.markerlabelwrapheight,0),fillColor:(0,f.pluck)(l.markerfillcolor,l.markerbgcolor,s.markerfillcolor),fillAlpha:(0,f.pluck)(l.markerfillalpha,s.markerfillalpha),fillAngle:(0,f.pluck)(l.markerfillangle,s.markerfillangle),fillRatio:(0,f.pluck)(l.markerfillratio,s.markerfillratio),fillPattern:(0,f.pluck)(l.markerfillpattern,s.markerbgpattern),hoverFillColor:l.markerfillhovercolor,hoverFillAlpha:l.markerfillhoveralpha,hoverFillRatio:l.markerfillhoverratio,hoverFillAngle:l.markerfillhoverangle,borderThickness:(0,f.pluck)(l.markerborderthickness,1),borderColor:(0,f.pluck)(l.markerbordercolor,s.markerbordercolor),borderAlpha:(0,f.pluckNumber)(l.markerborderalpha,s.markerborderalpha),hoverBorderThickness:l.markerborderhoverthickness,hoverBorderColor:l.markerborderhovercolor,hoverBorderAlpha:l.markerborderhoveralpha,radius:(0,f.pluckNumber)(l.markerradius&&(0,f.trimString)(l.markerradius),7),shapeId:(0,f.pluck)(l.defaultmarkershape,"circle"),labelSepChar:(0,f.pluck)(l.labelsepchar,", "),tooltipSepChar:(0,f.pluck)(l.tooltipsepchar,", "),autoScale:(0,f.pluckNumber)(l.autoscalemarkers,0),tooltext:(0,f.pluck)(i&&i.tooltext,l.markertooltext),dataEnabled:n,valueToRadius:(0,f.pluckNumber)(l.markerradiusfromvalue,1),valueMarkerAlpha:(0,f.pluck)(l.valuemarkeralpha,"75"),hideNull:(0,f.pluckNumber)(l.hidenullmarkers,0),nullRadius:(0,f.pluckNumber)(l.nullmarkerradius,l.markerradius,7),adjustViewPort:(0,f.pluckNumber)(l.adjustviewportformarkers,0),startAngle:(0,f.pluckNumber)(l.markerstartangle,90),maxRadius:(0,f.pluckNumber)(l.maxmarkerradius,0),minRadius:(0,f.pluckNumber)(l.minmarkerradius,0),applyAll:(0,f.pluckNumber)(l.applyallmarkers,0),shadow:(0,f.pluckNumber)(l.showmarkershadow,l.showshadow,0)},e.connectorOpts={showHoverEffect:(0,f.pluckNumber)(l.showconnectorhovereffect,1),thickness:(0,f.pluckNumber)(l.connectorthickness,l.markerconnthickness,"2"),color:(0,f.pluck)(l.connectorcolor,l.markerconncolor,s.markerbordercolor),alpha:(0,f.pluck)(l.connectoralpha,l.markerconnalpha,"100"),hoverThickness:(0,f.pluckNumber)(l.connectorhoverthickness,l.connectorthickness,l.markerconnthickness,"2"),hoverColor:(0,f.pluck)(l.connectorhovercolor,l.connectorcolor,l.markerconncolor,s.markerbordercolor),hoverAlpha:(0,f.pluck)(l.connectorhoveralpha,l.connectoralpha,l.markerconnalpha,"100"),dashed:(0,f.pluckNumber)(l.connectordashed,l.markerconndashed,0),dashLen:(0,f.pluckNumber)(l.connectordashlen,l.markerconndashlen,3),dashGap:(0,f.pluckNumber)(l.connectordashgap,l.markerconndashgap,2),font:(0,f.pluck)(l.connectorfont,l.markerconnfont,o),fontColor:(0,f.pluck)(l.connectorlabelcolor,l.connectorfontcolor,l.markerconnfontcolor,t),fontSize:(0,f.pluckNumber)(l.connectorfontsize,l.markerconnfontsize,parseInt(r,10)),showLabels:(0,f.pluckNumber)(l.showconnectorlabels,l.showmarkerlabels,l.showlabels,1),labelBgColor:(0,f.pluck)(l.connectorlabelbgcolor,l.markerconnlabelbgcolor,s.plotfillcolor),labelBorderColor:(0,f.pluck)(l.connectorlabelbordercolor,l.markerconnlabelbordercolor,s.markerbordercolor),shadow:(0,f.pluckNumber)(l.showconnectorshadow,l.showmarkershadow,l.showshadow,0),showTooltip:(0,f.pluckNumber)(l.showconnectortooltip,l.showmarkertooltip,l.showtooltip,1),tooltext:(0,f.pluck)(i&&i.connectortooltext,l.connectortooltext),hideOpen:(0,f.pluckNumber)(l.hideopenconnectors,1)},e.adjustViewPortForMarkers=(0,f.pluckNumber)(l.adjustviewportformarkers,n)},o._attachMouseEvents=function(){var e=this.getFromEnv("eventListeners"),t=this.getFromEnv("chart-container");e.push(s.default.listen(t,f.hasTouch?"touchstart":"click",w.searchMouseMove,this)),e.push(s.default.listen(window.document,f.hasTouch?"touchstart":"mousemove",w.searchMouseMove,this))},o._dispose=function(){var e=this.getFromEnv("chart-container");f.hasTouch&&(s.default.unlisten(e,"touchstart",w.searchMouseMove),s.default.unlisten(window.document,"touchstart",w.searchMouseMove)),s.default.unlisten(e,"click",w.searchMouseMove),s.default.unlisten(window.document,"mousemove",w.searchMouseMove),m.prototype._dispose.call(this)},w.searchMouseMove=function(e){var t,o,r,a,n,l,i,s,c=e.data,h=c.config,d=c.getDatasets()[1],u=d&&d.getFromEnv("toolTipController"),p=d&&d.config.currentToolTip,g=c.config.lastHoveredPoint;c.getFromEnv("chart-container")&&c.config.lastInteractionEvent!==e.originalEvent&&(c.config.lastInteractionEvent=e.originalEvent,t=e,o=c,r=(0,f.getMouseCoordinate)(o.getFromEnv("chart-container"),t,o),a=r.chartX,n=r.chartY,o=o.config,l=o.canvasLeft,i=o.canvasTop,s=o.canvasLeft+o.canvasWidth,o=o.canvasHeight+o.canvasTop,r.insideCanvas=!1,r.originalEvent=t,l<a&&a<s&&i<n&&n<o&&(r.insideCanvas=!0),(t=r)&&t.insideCanvas?(h.lastMouseEvent=e,l={x:t.chartX,y:t.chartY},c._searchNearestNeighbour(l,e)):(g&&d&&d.hoverOutFn(g.element),c.config.lastHoveredPoint=null,u&&u.hide(p)))},o._searchNearestNeighbour=function(e,t){var o=this.getDatasets()[1];o&&o.components.kDTree&&((e=o.getElement(e))?o.highlightPoint(e,t):o.highlightPoint(!1,t))},o._createLayers=function(){m.prototype._createLayers.call(this),this._attachMouseEvents()},o._parseBackgroundCosmetics=function(){var e=this.getChildren("background")[0].config,t=this.getChildren("colorPalette")[0],o=this.getFromEnv("chart-attrib"),r=e.showBorder=(0,f.pluckNumber)(o.showcanvasborder,1);e.borderWidth=r?(0,f.pluckNumber)(o.canvasborderthickness,1):0,e.borderRadius=e.borderRadius=(0,f.pluckNumber)(o.canvasborderradius,0),e.borderDashStyle=e.borderDashStyle=(0,f.pluckNumber)(o.borderdashed,0)?(0,f.getDashStyle)((0,f.pluckNumber)(o.borderdashlen,4),(0,f.pluckNumber)(o.borderdashgap,2)):"none",e.borderAlpha=(0,f.pluck)(o.canvasborderalpha,t.borderAlpha),e.borderColor=e.borderColor=(0,f.convertColor)((0,f.pluck)(o.canvasbordercolor,t&&t.borderColor),e.borderAlpha)},o._getBackgroundCosmetics=function(){var e=this.getFromEnv("chart-attrib")||this.jsonData.map,t=this.getChildren("colorPalette")[0];return{FCcolor:{color:(0,f.pluck)(e.bgcolor,e.canvasbgcolor,t.bgcolor),alpha:(0,f.pluck)(e.bgalpha,e.canvasbgalpha,t.bgalpha),angle:(0,f.pluck)(e.bgangle,e.canvasbgangle,t.bgangle),ratio:(0,f.pluck)(e.bgratio,e.canvasbgratio,t.bgratio)}}},o._parseCanvasCosmetics=function(){m.prototype._parseCanvasCosmetics.call(this);var e=this.config,t=this.getFromEnv("chart-attrib")||this.jsonData.map,o=this.getChildren("canvas")[0].config;e.origMarginTop=(0,f.pluckNumber)(t.maptopmargin,11),e.origMarginLeft=(0,f.pluckNumber)(t.mapleftmargin,11),e.origMarginBottom=(0,f.pluckNumber)(t.mapbottommargin,11),e.origMarginRight=(0,f.pluckNumber)(t.maprightmargin,11),e.origCanvasLeftMargin=(0,f.pluckNumber)(t.canvasleftmargin,0),e.origCanvasRightMargin=(0,f.pluckNumber)(t.canvasrightmargin,0),e.origCanvasTopMargin=(0,f.pluckNumber)(t.canvastopmargin,0),e.origCanvasBottomMargin=(0,f.pluckNumber)(t.canvasbottommargin,0),o.canvasBorderRadius=(0,f.pluckNumber)(t.canvasborderradius,0),o.origCanvasTopPad=(0,f.pluckNumber)(t.canvastoppadding,0),o.origCanvasBottomPad=(0,f.pluckNumber)(t.canvasbottompadding,0),o.origCanvasLeftPad=(0,f.pluckNumber)(t.canvasleftpadding,0),o.origCanvasRightPad=(0,f.pluckNumber)(t.canvasrightpadding,0)},o.preliminaryScaling=function(){for(var e,t,o=this.jsonData,r=o.markers&&o.markers.items||[],a=r&&r.length||0,n=1/0,l=1/0,i=-1/0,s=-1/0;a--;)t=r[a],e=Number(t.x),t=Number(t.y),n=L(n,e),l=L(l,t),i=x(i,e),s=x(s,t);return{x:n,y:l,x1:i,y1:s}},o.getScalingParameters=function(e,t,o,r){var a,n=e/t,l=o/(e*this.config.baseScaleFactor),i=r/(t*this.config.baseScaleFactor),s=0,c=0,t=i<l?(s+=(o-r*n)/2,200/(t*(a=i))):(c+=(r-o/n)/2,200/(e*(a=l)));return{scaleFactor:a,strokeWidth:t,translateX:s,translateY:c}},o.calculateMarkerBounds=function(e,t,o){for(var r,a,n,l,i,s,c,h,d=this.config,u=d.markerOpts,p=this.getDatasets(),g=this.getDataLimits(),f=g.dataMin,m=g.dataMax,b=u.hideNull,k=u.nullRadius,v=u.valueToRadius,C=1/0,y=1/0,F=-1/0,w=-1/0,A=0,E=p.length;A<E;A++)"markers"===(i=p[A]).getName()&&(r=i);if(r)for(A in r.calculateMarkerRadiusLimits(),a=(g=r.config||{}).minRadius,n=g.maxRadius,l=r.components&&r.components.markerObjs||{})h=(d=l[A].config).definition||{},null!==d.cleanValue?(v&&void 0===h.radius&&(d.radius=a+(n-a)*(d.cleanValue-f)/(m-f)),c=Number(d.radius),s=(Number(h.x)+t)*e,h=(Number(h.y)+o)*e,C=L(C,s-c),y=L(y,h-c),F=x(F,s+c),w=x(w,h+c)):b?d.__hideMarker=!0:null===d.radius&&(d.radius=k);return{x:C,y:y,x1:F,y1:w}},o._spaceManager=function(){var e,t=this.config,o=this.getChildren("legend")&&this.getChildren("legend")[0],r=this.getChildren("gLegend")&&this.getChildren("gLegend")[0],o=o&&o.config.legendPos?o.config.legendPos.split("-"):r&&r.conf.legendPosition?r.conf.legendPosition.split("-"):[],r=this.getFromEnv("chart-attrib"),a=t.showBorder,n=t.origMarginLeft,l=t.origMarginTop,i=this.config.baseWidth,s=this.config.baseHeight,c={},h=0,d=0,u=t.markerOpts,a=t.borderWidth=a?(0,f.pluckNumber)(r.borderthickness,1):0;this._allocateSpace({top:a,bottom:a,left:a,right:a}),this._allocateSpace(this._manageActionBarSpace&&this._manageActionBarSpace(.225*t.availableHeight)||{}),r="right"===o[0]||"left"===o[0]?.3*t.canvasWidth:.3*t.canvasHeight,a=o[0]===f.POSITION_TOP||"bottom"===o[0]?t.canvasHeight:t.canvasWidth,t.showLegend&&this._manageLegendSpace(r),r="bottom"===o[0]||o[0]===f.POSITION_TOP?.225*t.canvasHeight:.225*t.canvasWidth,"top"===o[0]&&(l+=a-t.canvasHeight),r=this._manageChartMenuBar(r),"left"===o[0]&&(n+=a-t.canvasWidth),o=t.canvasWidth,a=t.canvasHeight,u.dataEnabled?(t.adjustViewPortForMarkers?((c=this.preliminaryScaling()).x1>i&&(i=c.x1),c.x<0&&(i+=-c.x,h=-c.x),c.y1>s&&(s=c.y1),c.y<0&&(s+=-c.y,d=-c.y),e=this.getScalingParameters(i,s,o,a),u=a,t=o,(c=this.calculateMarkerBounds(e.scaleFactor*this.config.baseScaleFactor,h,d)).x<0&&(n+=-c.x,o+=c.x),c.y<0&&(l+=-c.y,a+=c.y),c.x1>t&&(o-=c.x1-t),c.y1>u&&(a-=c.y1-u)):(e=this.getScalingParameters(i,s,o,a),this.calculateMarkerBounds(e.scaleFactor*this.config.baseScaleFactor,h,d)),n+=h*(e=this.getScalingParameters(i,s,o,a)).scaleFactor*this.config.baseScaleFactor,l+=d*e.scaleFactor*this.config.baseScaleFactor):e=this.getScalingParameters(i,s,o,a),t=(this.config.scalingParams=e).scaleFactor,e.translateX=e.translateX+n,e.translateY=e.translateY+l+r.top||0,e.sFactor=t*this.config.baseScaleFactor*100/100,e.transformStr=["t",e.translateX,",",e.translateY,"s",t,",",t,",0,0"].join(""),this.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:e.translateX||0,grpyshift:e.translateY||0,xscale:100*(t?t*this.config.baseScaleFactor:1),yscale:100*(t?t*this.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}}},o.getDataLimits=function(){for(var e,t=this.getDatasets(),o=t.length,r=1/0,a=-1/0,n=0;n<o;n++)e=t[n].getDataLimits(),r=L(r,e.min),a=x(a,e.max);return{dataMin:r,dataMax:a}},o.getEntityPaths=function(e){var t,o={},r=this.config.entities;if(e){for(t in r)o[t]=r[t];return o}return r},o.checkComplete=function(){this.config.entityFlag&&this.config.entitiesReady&&(this.config.entityFlag=!1,this.config.markersDrawn=!0,this.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:this}))},w);function w(){var e;return(e=m.call(this)||this).friendlyName="Map",e.revision=1,e.hasCanvas=!0,e.standaloneInit=!1,e.defaultDatasetType="maps",e.defaultSeriesType="geo",e.fireGroupEvent=!0,e.legendposition="right",e.hasGradientLegend=!0,e.isMap=!0,e.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:["0,100","0,100","0,100","0,100","0,100"],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},e.colorPaletteMap=v,e.eiMethods=C,e.registerFactory("legend",p.default,["canvas"]),e.registerFactory("axis",f.stubFN,["canvas"]),e.registerFactory("colormanager-decider",u.default,["legend"]),e.registerFactory("dataset",h.default,["colormanager-decider"]),e.registerFactory("canvas",d.default),e}function A(e,t){var o,r;for(r in(o=b.call(this)||this).subpalette=f.BLANKSTRING,o.key=f.BLANKSTRING,o.index=t,e)o.subpalette=k[e[r]],o[r]=o.subpalette instanceof Array?o.subpalette[t]:o.subpalette,o.key=r;return o}t.default=i},1300:function(e,t,o){"use strict";var r=o(249),a=(t.__esModule=!0,t.default=function(e){var t,o=e.getFromEnv("dataSource"),r=o.data||{},o=o.markers;(0,a.componentFactory)(e,i.default,"mapGroup"),t=e.getChildren("mapGroup")[0],(0,a.datasetFactory)(t,n.default,"entities",1,[r]),o?(0,a.datasetFactory)(t,l.default,"markers",1,[o]):e.getDatasets()[1]&&e.getDatasets()[1].remove()},o(254)),n=r(o(1301)),l=r(o(1303)),i=r(o(1304))},1301:function(e,t,o){"use strict";var r=o(249);t.__esModule=!0,t.default=void 0;function T(e,t){return(t=t?(0,O.extend2)(e.FCcolor,t,!1,!0):{FCcolor:e}).toString=O.toRaphaelColor,t}function u(e,t){e&&e.graphics.outlines.attr(t)}var M,a,n=r(o(268)),l=o(270),m=r(o(359)),i=o(262),s=r(o(1302)),O=o(254),p=o(266),r=r(o(632)),o=(0,i.getDep)("redraphael","plugin"),c=window.navigator.userAgent,y=/msie/i.test(c)&&!window.opera,b=window.Math,h=b.min,k=b.max,F=/stroke/gi,w=/AppleWebKit/.test(c),A=b.ceil,v={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*h(t,e-t)}},C={top:function(){return arguments[1]},middle:function(e,t){return 2*h(t,e-t)},bottom:function(e,t){return e-t}},i=((0,i.addDep)({name:"mapsAnimation",type:"animationRule",extension:s.default}),(0,r.default)(o),a=l.ComponentInterface,(0,n.default)(f,a),(c=f.prototype).getName=function(){return"entities"},c.getType=function(){return"dataset"},c.configureAttributes=function(e){if(e){this.JSONData={data:e};var t,o,r,a,n,l,i,s,c,h=this,e=h.getFromEnv("chart").jsonData,d=h.config,u=e.map||e.chart,p=h.getFromEnv("colorManager"),g=e.entitydef||[];for(n in!d.attachEvent&&p&&(h.addExtEventListener("legendUpdate",function(){if("legend"===(s=arguments[1]).component)h.legendInteractivity(s.legendItem,s.colorObj);else for(c=s.maxMinArray,l=c.length,i=0;i<l;i++)h.updateEntityColors(c[i].min,c[i].max)},p),d.attachEvent=!0),t=e.data&&e.data[0]&&e.data[0].data?h.JSONData=e.data[0].data||[]:h.JSONData=e.data||[],d.useSNameAsId=(0,O.pluckNumber)(u.usesnameasid,0),this._redefineEntities(g),o=h.components.data,d.showTooltip=(0,O.pluckNumber)(u.showtooltip,1),d.showHoverEffect=(0,O.pluckNumber)(u.showhovereffect,0),t=function(e){for(var t,o=e&&e.length||0,r={};o--;)(t=e[o]).id!==M&&(r[t.id.toLowerCase()]=t);return r}(t),h.calculateDataLimits(),e.colorrange||h._detachChild(h.getChildren("colorRange")&&h.getChildren("colorRange")[0]),o)r=t[n],a=o[n],r?this._configureEntity(n,a,(0,O.imprint)(f._sanitizeEntityOptions((0,O.extend2)({},r)),a.config)):this._configureEntity(n,a,a.config)}},c.updateEntityColors=function(e,t){var o,r,a,n,l=this.components.data,i=this.getFromEnv("chart").config.entityOpts,s=i.nullEntityAlpha,i=i.nullEntityColor,c=T({fill:i,alpha:s}),h={"fill-opacity":0};for(a in l)l.hasOwnProperty(a)&&(r=(n=(o=l[a]).config).cleanValue,n={"fill-opacity":(n.alphaArr||[])[0]/100||1},null==r?(u(o,c),o.hidden=!1):r<e||t<r?(u(o,h),o.hidden=!0):(u(o,n),o.hidden=!1))},c.legendInteractivity=function(e,t){var o,r,a,n,l=this.getFromEnv("chart"),i=this.components.data,s=(e.config,e.hasState("hidden")),c=this.getFromEnv("colorManager"),h={},d={"fill-opacity":0};for(o in l.getFromEnv("animationManager").setAnimationState("legendInteraction"),i)i.hasOwnProperty(o)&&(a=(n=(r=i[o]).config).cleanValue,a=c.getColorObj(a),n=n.visibleEntityAttr,h["fill-opacity"]=n["fill-opacity"],n=s?h:d,t.code===(!a.outOfRange&&a.code)&&(r.hidden=!s,u(r,n),s?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))},c.calculateDataLimits=function(){for(var e,t=this.getFromEnv("chart"),o=this.config,r=t.jsonData.data||[],a=this.getFromEnv("number-formatter"),n=1/0,l=-1/0,i=0,s=r.length;i<s;i++)e=r[i].value,e=a.getCleanValue(e),n=h(n,e),l=k(l,e);o.max=l,o.min=n},c._configureEntity=function(e,t,o){var r,a,n,l,i,s,c,h,d,u,p,g,f,m,b,k=this.getFromEnv("chart"),v=this.config,C=this.getFromEnv("number-formatter"),k=k.config.entityOpts,y=t.config,F=t.labelConfig,w=o.value,A=y.cleanValue=C.getCleanValue(w),C=y.formattedValue=A!==M?C.dataLabels(A):M,E=(0,O.pluckNumber)(o.showtooltip,k.showTooltip),L=this._getDefaultTooltip(t,o,this),C={formattedValue:C,sName:o.shortLabel,lName:o.label},x=k.dataLabels.style,N=y.toolText=E?(0,O.parseUnsafeString)((0,O.pluck)((0,O.parseTooltext)((0,O.pluck)(o.tooltext,k.tooltext,L),[1,2,7,38,39],C,o)),!1):"",E=y.borderColor=(0,O.pluck)(o.bordercolor,k.borderColor),L=y.borderAlpha=(0,O.pluck)(o.borderalpha,k.borderAlpha),C=y.borderThickness=(0,O.pluckNumber)(o.borderthickness,k.borderThickness),S=k.hoverOnNull,S=y.useHoverColor=(0,O.pluckNumber)(o.showhovereffect,o.usehovercolor,!S&&isNaN(w)?0:k.showHoverEffect),_=y.labelAlignment,w=this.getFromEnv("colorManager");if(t.hidden=!1,y.showLabel=(0,O.pluckNumber)(o.showlabel,k.showLabels),y.labelPadding=(0,O.pluckNumber)(o.labelpadding,k.labelPadding),y.fontFamily=(0,O.pluck)(o.font,x.fontFamily),y.fontSize=(0,O.pluckNumber)(parseInt(o.fontsize,10),parseInt(x.fontSize,10)),y.fontBold=(0,O.pluckNumber)(o.fontbold,0),y.fontColor=(0,O.pluck)(o.labelcolor,o.fontcolor,x.color),y.labelBgColor=(0,O.pluck)(o.labelbgcolor,x.bgColor)||"",y.labelBorderColor=(0,O.pluck)(o.labelbordercolor,x.borderColor)||"",y.connectorColor=(0,O.pluck)(o.labelconnectorcolor,k.connectorColor),y.connectorAlpha=(0,O.pluck)(o.labelconnectoralpha,k.connectorAlpha),y.hoverBorderThickness=(0,O.pluckNumber)(o.borderhoverthickness,o.hoverborderthickness,k.hoverBorderThickness),y.hoverBorderColor=(0,O.pluck)(o.borderhovercolor,o.hoverbordercolor,k.hoverBorderColor,y.borderColor),y.hoverBorderAlpha=(0,O.pluck)(o.borderhoveralpha,o.hoverborderalpha,k.hoverBorderAlpha,y.borderAlpha),y.connectorThickness=(0,O.pluckNumber)(o.labelconnectorthickness,k.connectorThickness),y.origConnectorThickness=y.connectorThickness,y.borderThickness=C,y.link=o.link,y.isVisible=!0,y.id=e,y.originalId=o.origId,null!==A&&(x=w&&w.getColor(A))&&!x.outOfRange&&(p=x.code,x.oriAlpha!==M&&(f=x.oriAlpha+"")),(0,O.pluck)(o.color,o.alpha,o.angle,o.ratio)!==M?(n=(0,O.pluck)(o.color,p,k.fillColor),l=(0,O.pluck)(o.alpha,f,k.fillAlpha),i=(0,O.pluck)(o.angle,k.fillAngle),s=(0,O.pluck)(o.ratio,k.fillRatio),c=T({color:n,alpha:l,angle:i,ratio:s})):(C=T({color:(0,O.pluck)(p,k.fillColor),alpha:(0,O.pluck)(f,k.fillAlpha),angle:(0,O.pluck)(k.fillAngle),ratio:(0,O.pluck)(k.fillRatio)}),e=T({color:(0,O.pluck)(k.nullEntityColor),alpha:(0,O.pluck)(k.nullEntityAlpha),angle:(0,O.pluck)(k.nullEntityAngle),ratio:(0,O.pluck)(k.nullEntityRatio)}),n=(c=null===A?e:C).FCcolor.color,l=c.FCcolor.alpha,i=c.FCcolor.angle,s=c.FCcolor.ratio),""===N&&(v.showTooltip=0),y.visibleEntityAttr={stroke:(0,O.convertColor)(E,L),fill:(y.fillColor=c).toString(),"fill-opacity":l/100},w=l.split(","),y.alphaArr=w,S&&(x=(0,O.pluck)(o.fillhovercolor,o.fillhoveralpha,o.fillhoverangle,o.fillhoverratio,o.hoverfillcolor,o.hoverfillalpha,o.hoverfillratio,o.hoverfillangle)!==M?(n=(0,O.pluck)(o.fillhovercolor,o.hoverfillcolor,k.hoverFillColor),l=(0,O.pluck)(o.fillhoveralpha,o.hoverfillalpha,k.hoverFillAlpha),i=(0,O.pluck)(o.fillhoverangle,o.hoverfillangle,k.hoverFillAngle),s=(0,O.pluck)(o.fillhoverratio,o.hoverfillratio,k.hoverFillRatio),T({color:n,alpha:l,angle:i,ratio:s})):(k.hoverColorObject||(k.hoverColorObject=T({color:k.hoverFillColor,alpha:k.hoverFillAlpha,angle:k.hoverFillAngle,ratio:k.hoverFillRatio})),k.hoverColorObject),y.hoverColor=x),F||(F=t.labelConfig={}),h=y.fontColor,d=y.fontFamily,u=y.fontBold,N=y.toolText,p=y.link,a=_?(r=_[0],_[1]):(r="center","middle"),F.align=r,F.vAlign=a,F.fontColor=h,F.bgColor=y.labelBgColor,F.borderColor=y.labelBorderColor,F.fontFamily=d,F.fontBold=u,F.toolText=N,F.link=p,"object"==typeof y.options)for(g=y.entityLabels=y.entityLabels||[],b=(m=y.labels||[]).length;b--;)g[b]||(g[b]={config:{}}),F=g[b].config,a=(_=m[b].labelAlignment)?(r=_[0],_[1]):(r="center","middle"),F.align=r,F.vAlign=a,F.displayValue=this.getDisplayValue(t,m[b],y.options.isDataEnabled,!b,o),F.toolText=N,F.align=r,F.vAlign=a,F.bgColor=y.labelBgColor,F.borderColor=y.labelBorderColor,F.fontColor=h,F.fontFamily=d,F.fontBold=u,F.toolText=N;else f={shortText:y.shortLabel,text:y.label},F.displayValue=this.getDisplayValue(t,f,!0,!0,o)},c.getDisplayValue=function(e,t,o,r,a){var n,l=this.getFromEnv("chart").config.entityOpts,e=e.config,i=e.cleanValue,s=e.formattedValue,c=l.labelSepChar;return o?r&&void 0!==a.displayvalue?n=a.displayvalue:(n=(0,O.pluck)(l.includeNameInLabels?l.useShortName?t.shortText:t.text:""),l.includeValueInLabels&&null!==i&&(n=n===M?s:n+c+s)):n=e.label,n},f._sanitizeEntityOptions=function(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e},c._redefineEntities=function(e){for(var t,o,r,a,n,l,i,s,c,h,d,u=this.config,p={},g={},f=this.getFromEnv("chart").config.entities,m=u.useSNameAsId,b=0,k=e.length;k--;)if(o=(t=e[k]).internalid,r=t.newid||o,a=t.sname,n=t.lname,d=f[o],o=(0,O.trimString)(o),r=(r=(0,O.trimString)(r))&&r.toLowerCase(),d){for(h in p[r]=i={origId:o},g[o]=!0,d)i[h]=d[h];i.shortLabel=a||d.shortLabel,i.label=n||d.label,i.showhovereffect=t.showhovereffect,i.fillhovercolor=t.fillhovercolor,i.fillhoveralpha=t.fillhoveralpha,i.fillhoverangle=t.fillhoverangle,i.fillhoverratio=t.fillhoverratio,i.borderhoverthickness=t.borderhoverthickness}for(l in(c=this.components.data)||(c=this.components.data={}),p)c[l=l.toLowerCase()]||(c[l]={config:{}}),c[l].config=p[l],b+=1;for(l in s=c,f)if(i=f[l],!g[l=(0,O.trimString)(l)]){for(h in m?((d=(d=s[i.shortLabel.toLowerCase()])?d:s[i.shortLabel.toLowerCase()]={}).config={},d.origId=i.shortLabel):((d=(d=s[l.toLowerCase()])?d:s[l.toLowerCase()]={}).config={},d.config.origId=l),i)d.config[h]=i[h];b+=1}u.entityCount=b},c.draw=function(){var e=this.config,t=this.getFromEnv("chart"),o=O.hasSVG?200:10;this.createContainer(),this.config.ready=!1,e.BATCH_SIZE=o,e.labelBatchSize=O.hasSVG?200:20,this._batchRender()(0),t.config.entityFlag=!0,t.checkComplete()},c._batchRender=function(){var o,r,a,n,l=this,e=l.config,t=l.getFromEnv("chart").config.entities.firstEntity,i=l.components.data,s=e.BATCH_SIZE,c=e.entityKeys=t?l._getKeys(t,i):Object.keys(i),h=e.entityLength=c.length;return function e(t){for(o=t,a=0;c[o]!==M;)if(r=i[c[o]],n=l.drawEntity(r,s),a+=n,r.config.drawn&&((n=o===h-1?r:i[c[o-1]])&&(n.config.drawn=!1,n.config.outlineStartIndex=M),o++),s<=a){l.addJob("entityDraw",e.bind(l,o),p.priorityList.entitydraw);break}o===h&&(l._addEventListenersToEntities(0),l.initComplete())}},c._addEventListenersToEntities=function(e){for(var t,o,r=this.components.data,a=this.config,n=a.BATCH_SIZE,l=a.entityKeys,i=a.entityLength,s=0,c=e;c<i;c++)if((o=(t=r[l[c]]).config.options)&&!1===o.isDataEnabled||this.addMouseGestures(t),++s===n){this.addJob("_addEventListenersToEntities",this._addEventListenersToEntities.bind(this,c),p.priorityList.entitydraw);break}},f._getKeys=function(e,t){for(var o=[e],r=e;t[r];)r=t[r].nextId,o.push(r);return o},c._getDefaultTooltip=function(e,t){var o,r=e.config.cleanValue,a=e.config.formattedValue,n=this.getFromEnv("chart").config.entityOpts;if("object"==typeof e.config.options){if(!(e=t.labels&&t.labels[0]))return M;o=(n.useSNameInTooltip?e.shortText:e.text)+(null===r?"":n.tooltipSepChar+a)}else o=(n.useSNameInTooltip?t.shortLabel:t.label)+(null===r?"":n.tooltipSepChar+a);return o},c.drawEntity=function(e,t){var o,r,a,n,l,i,s,c,h=this.getFromEnv("chart"),d=h.getFromEnv("animationManager"),u=e.config,p=O.hasSVG||!y?"litepath":"path",h=h.config.entityOpts,g=u.outlines,f=this.getFromEnv("toolTipController"),m=this.getLinkedParent().getChildContainer("plot"),b=this.getLinkedParent().getChildContainer("plotShadow"),k=u.toolText,v=h.shadow,C=[],h={};if(this._configureEntityDrawingParams(e),r=(u=e.config).visibleEntityAttr,c=u.shadowOptions,o=u.outlineStartIndex===M?g.length:u.outlineStartIndex,e.graphics||(e.graphics={}),i=0,C=u.outlinePath||(u.outlinePath=[]),s=u.customStrokeWidthModifier,"object"==typeof u.options){for(;o--;)if(C=g[o].outline,a=!0===u.options.isDataEnabled?r:(0,O.extend2)((0,O.extend2)({},r),function(e,t){var o,r={},a=t||1;if(!e||"object"!=typeof e)return r;for(o in e)F.test(o)||("stroke-width"===o?(r[o]=Number(e[o])/a,w&&(r[o]=r[o]&&A(r[o])||0)):r[o]=e[o]);return r}(g[o].style,s)),(n=(n=e.graphics.outlines)?n:e.graphics.outlines=[])[o]||(n[o]={}),l=n[o].outline,a[p]=C,(l=n[o].outline=d.setAnimation({el:p,container:m,attr:a,component:this,label:"path"})).shadow(!!v&&c,b),f.enableToolTip(l,k),i++,u.outlineStartIndex=o,i===t)return i;return u.drawn=!0,i}for(;o--;)if(C=g[o].concat(C),i++,u.outlineStartIndex=o,i===t)return u.outlinePath=C,i;return e.graphics.outlines||(r[p]=C),Object.assign(h,r,e.hidden?{"fill-opacity":0}:{}),e.graphics.outlines=d.setAnimation({el:e.graphics.outlines||p,container:m,attr:h,component:this,label:"path"}),u.drawn=!0,u.outlineStartIndex=0,u.outlinePath=[],e.graphics.outlines.shadow(!!v&&c,b),f.enableToolTip(e.graphics.outlines,k),i},c._configureEntityDrawingParams=function(e){var t,o=this.getFromEnv("chart"),r=e.config,a=o.config.entityOpts,n=o.config.scalingParams,l=!y||O.hasSVG,i=n.scaleFactor,s=n.strokeWidth,c=(l?o.baseScaleFactor:1)*s,a=1===a.scaleBorder,h=r.borderThickness,d=r.alphaArr,u=r.origConnectorThickness,p=r.hoverBorderThickness,g=r.visibleEntityAttr,f=g["fill-opacity"];r.shadowOptions={scalefactor:[i,i*o.config.baseScaleFactor],opacity:k.apply(b,d)/100,useFilter:0},r.fillOpacity=e.hidden?0:f,l?(h=r.entityBorderThickness=a?h*c:h/i,u/=i,t=a?i:n.sFactor,p=p&&(r.hoverBorderThickness=a?p*c:p/i)):(h=a?h*s:h,t=a?n.scaleFactor:o.baseScaleFactor),r.entityBorderThickness=h,r.connectorThickness=u,r.customStrokeWidthModifier=t,g["stroke-width"]=h,g.transform=O.hasSVG||!y?"":n.transformStr},c.drawLabels=function(e){var t,o,r,a,n=e,e=this.getFromEnv("chart"),l=this.config,i=l.labelBatchSize,s=l.entityLength,c=[],h=e.getChildContainer("upperAnnotationGroup"),d=0,u=this.getChildren("mapLabelAnnotations")&&this.getChildren("mapLabelAnnotations")[d],p=0,g=0,f=e.config.annotationConfig;for(t in u||(a=new m.default,this.attachChild(a,"mapLabelAnnotations"),(u=this.getChildren("mapLabelAnnotations")[d]).addCustomGroup(h)),u.destroy(),u._renderer&&(u._renderer=null),f.showbelow=0,n){if(this.drawLabel(n[t],c),++p===i){for(o=0;o<c.length;o++)c[o].animationLabel="entityLabel";for(r=u.addGroup(Object.assign(f,{id:"entityLabels"+d,items:c,animationLabel:"entityLabelGroup"}),this),o=0;o<r.items.length;o++)r.items[o].addEventListener("fc-mouseover",c[o].onmouseover),r.items[o].addEventListener("fc-mouseout",c[o].onmouseout),r.items[o].addEventListener("fc-click",c[o].onclick);d++,(u=this.getChildren("mapLabelAnnotations")&&this.getChildren("mapLabelAnnotations")[d])||(a=new m.default,this.attachChild(a,"mapLabelAnnotations"),(u=this.getChildren("mapLabelAnnotations")[d]).addCustomGroup(h)),u.destroy(),u._renderer&&(u._renderer=null),p=0,c=[]}else if(g===s-1){for(o=0;o<c.length;o++)c[o].animationLabel="entityLabel";for(r=u.addGroup(Object.assign(f,{id:"entityLabels"+d,items:c,animationLabel:"entityLabelGroup"}),this),o=0;o<r.items.length;o++)r.items[o].addEventListener("fc-mouseover",c[o].onmouseover),r.items[o].addEventListener("fc-mouseout",c[o].onmouseout),r.items[o].addEventListener("fc-click",c[o].onclick)}g++}this.drawLabelConnFn(0)},c.drawLabelConnFn=function(e){for(var t,o,r,a,n=this.config,l=this.components.data,i=n.BATCH_SIZE,s=n.entityKeys,c=s.length,h=0,d=e;d<c;d++){if("object"==typeof(r=(a=l[s[d]]).config).options)for(t=(o=r.labels)&&o.length||0;t--;)o[t].labelConnectors&&(this.drawLabelConnectors(a,o[t].labelConnectors,this),h++);else r.labelConnectors&&(this.drawLabelConnectors(a,r.labelConnectors,this),h++);if(h===i){this.addJob("drawLabelConnectors",this.drawLabelConnFn.bind(this,d),p.priorityList.entitydraw);break}}},c._getLabelObject=function(a,e,t){var o,r,n,l,i,s,c=this,h=c.getFromEnv("chart"),d=c.getFromEnv("chart-attrib"),u=a.config,h=h.config.scalingParams,p=a.graphics&&a.graphics.outlines,g=u.fontSize,f=u.labelPadding,m=u.labels||[],b=u.entityLabels||[],b=e!==M?(m=m[e],n=(o=b[e].config).style=m.style,r=m.labelPosition,m.labelAlignment):(o=a.labelConfig,r=u.labelPosition,u.labelAlignment),m=r?(l=r[0],r[1]):(l=(e=p.getBBox()).x+e.width/2,e.y+e.height/2);return b?("right"===(i=b[0])?l-=f:"left"===i&&(l+=f),"top"===(s=b[1])?m-=f:"bottom"===s&&(m+=f)):(i="center",s="middle"),u=parseFloat(g)/h.sFactor,!t&&n&&(n.color&&(o.fontColor=n.color),n["font-size"]&&(u=parseFloat(n["font-size"])/h.sFactor),n["font-family"]&&(o.fontFamily=n["font-family"]),n["font-weight"]!==M&&(o.fontBold="bold"===n["font-weight"])),o.x=l.toString(),o.y=m.toString(),o.wrap=1,o.type="text",o.fontSize=u,{x:l.toString(),y:m.toString(),wrapwidth:v[i](void 0,l+void 0)-f,wrapheight:C[s](void 0,m+void 0)-f,wrap:1,type:"text",align:o.align,valign:o.vAlign,text:o.displayValue,tooltext:o.toolText,outlineText:(0,O.pluckNumber)(d.textoutline,0),css:o.link!==M&&{cursor:"pointer",_cursor:"hand"},bgcolor:o.bgColor,bordercolor:o.borderColor,fillcolor:o.fontColor,fontsize:o.fontSize,font:o.fontFamily,bold:o.fontBold,onclick:function(e){var t,o,r=a.graphics.outlines;if(r instanceof Array)for(t=0,o=r.length;t<o;t++)c.entityClick(r[t].outline,e);else c.entityClick(r,e)},onmouseover:function(e){var t,o,r=a.graphics.outlines;if(r instanceof Array)for(t=0,o=r.length;t<o;t++)c.entityRollOver(r[t].outline,e);else c.entityRollOver(r,e)},onmouseout:function(e){var t,o,r=a.graphics.outlines;if(r instanceof Array)for(t=0,o=r.length;t<o;t++)c.entityRollOut(r[t].outline,e);else c.entityRollOut(r,e)},ontouchstart:function(e){var t,o,r=a.graphics.outlines;if(r instanceof Array)for(t=0,o=r.length;t<o;t++)c.entityRollOver(r[t].outline,e);else c.entityRollOver(r,e);c.entityRollOver(r,e)}}},c.drawLabel=function(e,t){var o,r,a,n=e.config;if(n.showLabel)if("object"==typeof n.options)for(r=(a=n.labels)&&a.length||0,o=n.options.isDataEnabled;r--;)t.push(this._getLabelObject(e,r,o,!r));else t.push(this._getLabelObject(e,M,!0,!0))},c.drawLabelConnectors=function(e,t,o){for(var r,a,n=e.config,l=this.getFromEnv("chart"),i=l.getFromEnv("animationManager"),s=l.config.scalingParams,c=o.getLinkedParent().getChildContainer("plot"),h=t&&t.length||0,d=n.showLabel;h--;)a=t[h],r=e.graphics.connectorElem,d?e.graphics.connectorElem=r=i.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:a,opacity:1,transform:O.hasSVG||!y?"":s.transformStr,stroke:(0,O.convertColor)(n.connectorColor,n.connectorAlpha),"shape-rendering":"crisp","stroke-width":n.connectorThickness},container:c,component:this,label:"labelConnectors"}):r&&r.hide()},c.entityClick=function(e,t){var o=e.node.__entity,r=this.getFromEnv("chart"),a=r.config.scalingParams,e=e.getBBox(),n=r.getFromEnv("linkClickFN"),l=o.config,i=l.link;e.width=e.width*a.scaleFactor,e.height=e.height*a.scaleFactor,e.x=e.x*a.scaleFactor+a.translateX,e.y=e.y*a.scaleFactor+a.translateY,e.x2=e.x+e.width,e.y2=e.y+e.height,r.fireChartInstanceEvent("entityclick",l.eventArgs,t),i!==M&&n.call({link:i,entity:o,entityBox:e},!0)},c.entityRollOver=function(e,t){var o=e.node.__entity,r=o.config,a=this.getFromEnv("chart"),n=a.getFromEnv("animationManager"),l=r.hoverAttr;a.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(o.config.timer):r.useHoverColor&&r.isVisible&&!o.hidden&&l&&(a.config.hoverEntity=e,n.setAnimation({el:e,attr:l,component:this,state:"updating",label:"path"}),e.data("hovered",!0))},c.entityRollOut=function(e,t){var o=e.node.__entity,r=this,a=r.getFromEnv("chart"),n=a.getFromEnv("animationManager"),l=o.config.revertAttr;a.plotEventHandler(e,t,"entityRollOut"),o.config.timer=setTimeout(function(){!0!==o.hidden&&l&&(n.setAnimation({el:e,attr:l,component:r,state:"updating",label:"path"}),e.data("hovered",!1))},100)},c.addMouseGestures=function(t){function e(e){b!==M&&e.css({cursor:"pointer",_cursor:"hand"}),e.data("eventArgs",l.eventArgs),e.data("groupId",v),(e.node.__entity=t)._listenersBinded||e.on("fc-click",s.entityClick.bind(s,e)).hover(s.entityRollOver.bind(s,e),s.entityRollOut.bind(s,e))}var o,r,a,n,l=t.config,i=l.originalId,s=this,c=t.graphics,h=l.useHoverColor,d=l.hoverBorderThickness,u=l.hoverBorderColor,p=l.hoverBorderAlpha,g=l.entityBorderThickness,f=l.borderColor,m=l.borderAlpha,b=l.link,k=l.visibleEntityAttr,v="groupId"+i;for(o in l.eventArgs={value:l.cleanValue,label:l.label,shortLabel:l.shortLabel,originalId:l.origId,id:l.id||l.origId},l.legacyEventArgs={value:l.value,lName:l.label,sName:l.shortLabel,id:l.originalId||l.id},h&&(l.hoverAttr={fill:(0,O.toRaphaelColor)(l.hoverColor)},l.revertAttr={fill:(0,O.toRaphaelColor)(l.fillColor),stroke:(0,O.toRaphaelColor)(l.borderColor,l.borderAlpha)},l.revertAttr["fill-opacity"]=k["fill-opacity"],d!==g&&(l.hoverAttr["stroke-width"]=(0,O.pluckNumber)(d,g),l.revertAttr["stroke-width"]=g),u===f&&p===m||(l.hoverAttr.stroke=(0,O.convertColor)(u,p),l.revertAttr.stroke=(0,O.convertColor)(f,m))),c)if(c.hasOwnProperty(o))if(c[o]instanceof Array){for(r=0,a=(n=c[o]).length;r<a;r++)e(n[r].outline);t._listenersBinded=!0}else e(c[o]),t._listenersBinded=!0},c.getDataLimits=function(){var e=this.config;return{max:e.max,min:e.min}},c.createContainer=function(){var e=this.getLinkedParent(),t=this.getFromEnv("animationManager"),e=e.getChildContainer("layer0");this.getChildContainer("abovePlotGroup")||this.addChildContainer("abovePlotGroup",t.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:e,component:this,label:"group"})),this.getChildContainer("belowPlotGroup")||this.addChildContainer("belowPlotGroup",t.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:e,component:this,label:"group"}))},c.initComplete=function(){var e=this.getFromEnv("chart"),t=this.components.data;this.drawLabels(t),e.config.entitiesReady=!0,e.checkComplete()},f);function f(){var e;return(e=a.call(this)||this).components={},e}t.default=i},1302:function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;function r(){return d[0].slot="plot",d}function a(e){return[{finalAttr:function(){return e.finalAttr}}]}function n(){return d[0].slot="final",d}function l(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]}function i(){return d[0].slot="final",d}function s(e){return[{finalAttr:function(){return e.finalAttr}}]}function c(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]}function h(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]}var d=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}];t.default={"initial.dataset.entities":function(){return{"path.appearing":r,"path.updating":a,"labelConnectors.appearing":n,"labelConnectors.updating":null,"entityLabel.appearing":l,"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":i,"markerItem.updating":s}},"initial.group.mapGroup":function(){return{"group.appearing":c,"group.updating":h,"*":null}}}},1303:function(e,t,o){"use strict";var r=o(249);t.__esModule=!0,t.default=void 0;function a(e){var t,o=this.getFromEnv("chart"),r=this.getChildren("mapAnnotations")[0],a=e.markerShape,n=a.groupConfig,l=a.data("unfilteredConfig"),i=l._markerEventArgs,e=e.config;l.hovereffect&&("circle"===a.config.type&&(t=(0,M.extend2)({fillcolor:l.hoverfillcolor,fillalpha:l.hoverfillalpha,fillangle:l.hoverfillangle,fillratio:l.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:1},l._hoverattrs)),t=(0,M.extend2)({},l._hoverattrs),r.update(a.getId(),t)),i=i||(l._markerEventArgs={x:+l.x,y:+l.y,scaledX:l.x*n.scaleX,scaledY:l.y*n.scaleY,chartX:l.x*n.scaleX+n.grpXShift,chartY:l.y*n.scaleY+n.grpYShift,id:l.id,label:l.label}),(0,E.raiseEventGroup)(e.options.id,"markerRollOver",i,o.getFromEnv("chartInstance"),e,T,T,T)}function n(e){var t,o=this.getFromEnv("chart"),r=this.getChildren("mapAnnotations")[0],a=e.markerShape,n=a.getElement(),e=e.config,l=a.data("unfilteredConfig");n&&l.hovereffect&&("circle"===a.config.type&&(t=(0,M.extend2)({fillcolor:a.config.rawColor,fillalpha:a.config.rawAlpha,fillangle:a.config.rawAngle,fillratio:a.config.rawRatio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===a.config.rawFillPattern},l._defaultattrs)),t=(0,M.extend2)({},l._defaultattrs),r.update(a.getId(),t)),(0,E.raiseEventGroup)(e.id,"markerRollOut",l._markerEventArgs,o.getFromEnv("chartInstance"),T,T,T)}function l(e,t){var o=t.config.options,r=this.getFromEnv("chart"),a=(t=t.markerShape).config,n=t.groupConfig,l=this.getFromEnv("linkClickFN"),t=t.config.link,i=a._markerEventArgs;t&&l&&l.call({link:t},!0),i=i||(a._markerEventArgs={x:+a.x,y:+a.y,scaledX:a.x*n.scaleX,scaledY:a.y*n.scaleY,chartX:a.x*n.scaleX+n.grpXShift,chartY:a.y*n.scaleY+n.grpYShift,id:o.id,label:o.label}),r.fireChartInstanceEvent("markerClick",i,e)}function y(e,t){var o,r=e&&e.length||!1,a=t||"id",n={};if(!e)return e;for(;r--;)(o=e[r])[a]!==T&&(n[o[a].toLowerCase()]=o);return n}function i(e,t,o){return{x:e.toString(),y:(t-o).toString(),align:"center",valign:"top"}}function s(e,t,o){return{x:(e-o).toString(),y:t.toString(),align:"right",valign:"middle"}}function c(e,t,o){return{x:(e+o).toString(),y:t.toString(),align:"left",valign:"middle"}}function h(e,t,o){return{x:e.toString(),y:(t+o).toString(),align:"center",valign:"bottom"}}function d(e,t){return{x:e.toString(),y:t.toString(),align:"center",valign:"middle"}}function u(){return arguments[1]}function p(e,t){return e-t}function g(e,t){return 2*x(t,e-t)}function f(){return arguments[1]}function m(e,t){return 2*x(t,e-t)}function b(e,t){return e-t}var T,k,v=r(o(268)),C=r(o(1301)),F=r(o(697)),w=r(o(359)),A=o(262),r=r(o(1302)),M=o(254),E=o(261),L=o(266),o=window.Math,x=o.min,N=o.max,A=((0,A.addDep)({name:"mapsAnimation",type:"animationRule",extension:r.default}),k=C.default,(0,v.default)(S,k),(o=S.prototype).getName=function(){return"markers"},o.getType=function(){return"dataset"},o.configureAttributes=function(e){var t,o;e&&(this.JSONData=e,e=this.getChildren("mapAnnotations")&&this.getChildren("mapAnnotations")[0],o=this.getFromEnv("chart").config.markerOpts,e||(t=new w.default,this.attachChild(t,"mapAnnotations"),e=this.getChildren("mapAnnotations")[0]),e.destroy(),this.calculateDataLimits(),o.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors())},o.calculateMarkerRadiusLimits=function(){var e,t,o,r,a;this.JSONData&&(r=this.JSONData,e=this.config,a=(t=this.getFromEnv("chart")).config.width,t=t.config.height,o=r.markermaxradius,r=r.markerminradius,a=S.getMarkerRadiusLimits(a,t,o,r),e.minRadius=a.min,e.maxRadius=a.max)},o.calculateDataLimits=function(){for(var e,t=this.getFromEnv("chart"),o=this.config,r=(t.jsonData.markers||{}).items||[],a=this.getFromEnv("number-formatter"),n=1/0,l=-1/0,i=0,s=r.length;i<s;i++)e=r[i].value,null!==(e=a.getCleanValue(e))&&(n=x(e,n),l=N(e,l));o.min=n,o.max=l},o._parseMarkers=function(){var e,t,o,r,a,n,l,i,s=this.getFromEnv("chart"),c=s.jsonData.markers,h=c.items,d=c.shapes,u=s.config.markerOpts,p=u.dataLabels.style,g=this.getFromEnv("number-formatter"),f=this.components.shapeObjs={},m=this.components.markerObjs={};if(h&&h.length){if(d&&d.length)for(t=d.length;t;--t)(i=(r=d[t-1]).id.toLowerCase())&&(f[i]=r);for(t=h.length;t--;)(i=(r=h[t]).id&&r.id.toLowerCase())&&((e=r.value)!==T&&""!==e&&(e=parseFloat(e)),(a=(o=S._initializeMarkerItem(i,r,null,s)).config.options.shapeid)&&"string"==typeof a&&(a=a.toLowerCase()),l=(n=o.config).options,n.cleanValue=g.getCleanValue(e),null!==n.cleanValue?n.formattedValue=g.dataLabels(e):n.formattedValue=T,n.fillColor=(0,M.pluck)(l.fillcolor,l.color,u.fillColor),n.fillAlpha=(0,M.pluck)(l.fillalpha,l.alpha,u.fillAlpha),n.fillRatio=(0,M.pluck)(l.fillratio,u.fillRatio),n.fillAngle=(0,M.pluck)(l.fillangle,u.fillAngle),n.borderThickness=(0,M.pluckNumber)(l.borderthickness,u.borderThickness),n.borderColor=(0,M.pluck)(l.bordercolor,u.borderColor),n.borderAlpha=(0,M.pluck)(l.borderalpha,u.borderAlpha),n.labelPadding=l.labelpadding||u.labelPadding,n.fontColor=(0,M.pluck)(l.labelcolor,p.fontColor),n.labelBgColor=(0,M.pluck)(l.labelbgcolor,p.labelBgColor)||"",n.labelBorderColor=(0,M.pluck)(l.labelbordercolor,p.labelBorderColor)||"",r.__hideMarker&&(o._isHidden=!0),a&&(o.shapeObj=f[a]),m[i]=o)}},o.defineMarkersNShapes=function(){var e,t,o,r,a,n,l,i,s=this.getFromEnv("chart"),c=s.jsonData.markers,h=c.definition,d=this.getFromEnv("number-formatter"),u=s.config.markerOpts,p=u.dataLabels.style,g=y(h)||{},f=y(c.application)||{},m=c.shapes,b=this.components.shapeObjs=this.components.shapeObjs||(this.components.shapeObjs={}),k=this.components.markerObjs=this.components.markerObjs||(this.components.markerObjs={}),v={},C={};if(h&&h.length){for(r in b)v[r]=!1;for(r in k)C[r]=!1;if(m&&m.length)for(r=m.length;r;--r)(i=(n=m[r-1]).id.toLowerCase())&&(b[i]=n,v[i]=!0);for(i in g)n=g[i],a=k[i]=S._initializeMarkerItem(i,n,f[i],s),C[i]=!0,l=a.config.options.shapeid,t=a.config,o=n.value,t.cleanValue=d.getCleanValue(o),e=t.options,null!==t.cleanValue?t.formattedValue=d.dataLabels(o):t.formattedValue=T,t.fillColor=(0,M.pluck)(e.fillcolor,e.color,u.fillColor),t.fontColor=(0,M.pluck)(e.labelcolor,p.fontColor),t.fillAlpha=(0,M.pluck)(e.fillalpha,e.alpha,u.fillAlpha),t.fillRatio=(0,M.pluck)(e.fillratio,u.fillRatio),t.fillAngle=(0,M.pluck)(e.fillangle,u.fillAngle),t.borderThickness=(0,M.pluckNumber)(e.borderthickness,u.borderThickness),t.borderColor=(0,M.pluck)(e.bordercolor,u.borderColor),t.borderAlpha=(0,M.pluck)(e.borderalpha,u.borderAlpha),t.labelPadding=e.labelpadding||u.labelPadding,t.options.tooltext=(0,M.pluck)(e.tooltext,u.tooltext),t.link=e.link,l&&(a.shapeObj=b[l.toLowerCase()]);for(r in v)v[r]||delete b[r];for(r in k)C[r]||delete k[r]}},S.getMarkerRadiusLimits=function(e,t,o,r){e=x(e,t),t=.02*e,e*=.07,r=parseFloat(r),o=parseFloat(o);return isNaN(r)||isNaN(o)?isNaN(r)?isNaN(o)?{min:t,max:e}:{min:parseInt(o/10,10),max:o}:{min:r,max:10*r}:r<o?{min:r,max:o}:{min:o,max:r}},o.getDataLimits=function(){var e=this.config;return{min:e.min,max:e.max}},S._initializeMarkerItem=function(e,t,o){var r={},a=r.config;return(a=a||(r.config={})).id=e,a.definition=t,a.application=o,a.hasValue=null,a.value=null,a.options=null,a.label=null,a.markerShape=null,a.markerLabel=null,a.drawOptions={shape:null,label:null},a.drawComplete=!1,e=r.config.options=(0,M.extend2)({},a.definition),a.dataEnabled?isNaN(e.value)||""===e.value||(r.value=parseFloat(e.value),r.hasValue=!0):(a.applyAll||o)&&(a.options=(0,M.extend2)(e,a.application)),r},o.configureConnectors=function(){for(var e,t,o,r,a,n,l,i,s,c,h,d,u=this.getFromEnv("chart"),p=this.getChildren("mapAnnotations")[0],g=u.jsonData,f=this.components,g=g.markers||{},m=g.connector||g.connectors||[],b=f.markerObjs,k=m.length,v=this.components.connectors,C=u.config.connectorOpts,y={},v=this.components.connectors=[],F=0;F<k;F++)((d=m[F]).from||d.to)&&(t=b[d.from.toLowerCase()],o=b[d.to.toLowerCase()],t&&o&&(r=m[F].label,(y=(y=v[F])?y:v[F]={}).config||(e=y.config={}),y.graphics||(y.graphics={}),(e=y.config=(0,M.extend2)({},d)).fromMarker=t,e.toMarker=o,e.link=d.link,e.showTooltip=(0,M.pluckNumber)(d.showtooltip,C.showTooltip),h=e.tooltext=e.showTooltip?(0,M.pluck)(d.tooltext,C.tooltext):"",a=e.thickness=(0,M.pluck)(d.thickness,C.thickness),n=e.color=(0,M.pluck)(d.color,C.color),l=e.alpha=(0,M.pluck)(d.alpha,C.alpha),e.hoverEffect=(0,M.pluckNumber)(d.showhovereffect,C.showHoverEffect),i=(0,M.pluck)(d.hovercolor,C.hoverColor,n),s=(0,M.pluck)(d.hoveralpha,C.hoverAlpha,l),c=(0,M.pluck)(d.hoverthickness,C.hoverThickness,a),e.dashed=(0,M.pluck)(d.dashed,C.dashed),e.dashLen=(0,M.pluckNumber)(d.dashlen,C.dashlen),e.dashGap=(0,M.pluckNumber)(d.dashgap,C.dashgap),h&&(e.tooltext=(0,M.parseUnsafeString)((0,M.parseTooltext)(h,[3,40,41,42,43],{label:r,fromId:t.config.definition.id,toId:o.config.definition.id,fromLabel:t.config.definition.label,toLabel:o.config.definition.label},void 0),!1)),e.eventArgs={fromMarkerId:t.config.id,toMarkerId:o.config.id,label:r},e._hoverAttrs={color:i,alpha:s,thickness:c},e._defaultAttrs={color:n,alpha:l,thickness:a},e.type="line",e.onclick=function(t){return function(e){u.fireChartInstanceEvent("connectorClick",t,e)}}(e.eventArgs),e.onmouseover=function(o){return function(e){var t=this.data("unfilteredConfig");t.hoverEffect&&p.update(this.getId(),t._hoverAttrs),u.fireChartInstanceEvent("connectorrollover",o,e)}}(e.eventArgs),e.onmouseout=function(o){return function(e){var t=this.data("unfilteredConfig");t.hoverEffect&&p.update(this.getId(),t._defaultAttrs),u.fireChartInstanceEvent("connectorrollout",o,e)}}(e.eventArgs),r&&((h=(h=y.labelConfig)?h:y.labelConfig={}).type="text",h.text=r,h.align="center",h.valign="middle",h.font=C.font,h.fillcolor=(0,M.pluck)(d.labelcolor,C.fontColor),h.bgcolor=(0,M.pluck)(d.labelbgcolor,C.labelBgColor),h.bordercolor=(0,M.pluck)(d.labelbordercolor,C.labelBorderColor),h.tooltext=e.tooltext)))},o.draw=function(){var e,t,o,r,a,n,l,i,s=this.getFromEnv("chart"),c=this.config,h=this.getChildren("mapAnnotations")[0],d=this.components.markerObjs,u=s.config,p=u.markerOpts,u=u.scalingParams,s=s.config.annotationConfig,g=[],f=[],m={},b={};for(a in h.destroy(),this.createContainer(),this._drawConnectors(),this.imageLoadCount=0,this.imageCount=0,c.autoScale=p.autoScale?u.sFactor:1,d)e=null,(r=(t=d[a]).config).conIsHidden||(e=this._drawMarkerItem(t)),e&&(b[a]=e,r._annotationIndex=g.length,m[a]=t,e.markerShape&&(o=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===e.markerShape.type?0:1},e.markerShape),g.push(o)),e.markerLabel&&(o=Object.assign({animationLabel:"markerItem",id:e.markerShape.id},e.markerLabel),f.push(o)));for(a in i=h.addGroup(Object.assign(s,{id:"markers",fillalpha:"100",items:g,scaleimages:1}),this),l=h.addGroup(Object.assign(s,{id:"markerLabels",items:f,scaleimages:1}),this),this.components.markerGroup=i,this.components.markerLabelGroup=l,n=0,d)b[a]&&((t=d[a]).markerShape=i.retrieveItem(g[n].id),t.markerShape.data("unfilteredConfig",g[n]),b[a].markerLabel&&(t.markerLabel=l.retrieveItem(g[n].id),t.markerLabel.data("unfilteredConfig",f[n])),n++);this.addJob("buildKdtree",this._buildKdTree.bind(this),L.priorityList.kdTree)},o._buildKdTree=function(){for(var e,t=this.components.kdArrayMap,o=this.components.markerGroup,r=[],a=o&&o.items,n=a&&a.length||0,l=0;l<n;l++)t[e=a[l].config.id]&&r.push(t[e]);this.components.kDTree||(this.components.kDTree=new F.default(!0)),this.components.kDTree._setSearchLimit(1/0,1/0),this.components.kDTree.buildKdTree(r)},o._drawMarkerItem=function(o){var r,a,n,e,t,l,i=this,s=i.getFromEnv("chart"),c=s.config,h=i.config,d=c.scalingParams,u=o.config,p=u.options,g=u.definition,c=c.markerOpts,f=c.dataLabels.style,m=p.shapeid,b=p.scale||1,k=p.label||"",s=s.config.scalingParams.scaleFactor*s.config.baseScaleFactor,v=(p.labelpos||"top").toLowerCase(),C=u.formattedValue===T?T:u.formattedValue,y=p.tooltext||c.tooltext,g=(0,M.pluckNumber)(g.radius,u.radius,c.radius)*b*h.autoScale||1e-4,h=u.fillColor,F=u.fillAlpha,w=u.fillRatio,A=u.fillAngle,E=u.borderThickness,L=u.borderColor,x=u.borderAlpha,N=i.getChildren("mapAnnotations")[0],S=i.components.kdArrayMap||(i.components.kdArrayMap={}),_=o.config.id;if(u.autoScale=c.autoScale?s:1,m)return y=y?(0,M.parseUnsafeString)((0,M.parseTooltext)(y,[1,2,3],{formattedValue:C,label:k},p),!1):C?k+c.tooltipSepChar+C:k,C!==T&&null!==C?k=k+c.labelSepChar+C:isNaN(b)?b=1:b<0?b=0:5<b&&(b=5),(0,M.extend2)(p,{x:p.x&&p.x.toString(),y:p.y&&p.y.toString(),fillcolor:h,fillalpha:F,fillratio:w,fillangle:A,borderthickness:E,bordercolor:L,borderalpha:x,hovereffect:(0,M.pluck)(c.showHoverEffect),radius:g&&g.toString(),link:p.link,showshadow:(0,M.pluckNumber)(p.showshadow,u.shadow),_markerLabel:k,_markerId:p.id,id:(p.id+"").toLowerCase()}),delete p.tooltext,u.tooltext=!!c.showTooltip&&y,r=Number(p.x)*d.sFactor+d.translateX,a=Number(p.y)*d.sFactor+d.translateY,g=p.radius,"triangle"===m?((0,M.extend2)(p,{type:"polygon",sides:3,startangle:c.startAngle}),l="polygon",t=3):"diamond"===m?((0,M.extend2)(p,{type:"polygon",sides:4,startangle:c.startAngle}),l="polygon",t=4):"arc"===m?((0,M.extend2)(p,{type:"arc",startangle:0,endangle:360,innerradius:e=.6*g}),l="arc"):"circle"===m?l=p.type="circle":(s=i.getShapeArgs.call(o),c.dataEnabled&&c.valueToRadius&&p.radius!==T?delete s.radius:(s.radius||(s.radius=c.radius),s.radius*=b*u.autoScale),(0,M.extend2)(p,s),p.id=p._markerId&&p._markerId.toLowerCase(),e=s.innerradius,s.radius&&(g=s.radius),l=s.type&&s.type.toLowerCase(),t=s.sides,(g=Number(g))&&e&&g<e&&(C=g,p.radius=g=e,p.innerradius=e=C)),p.type=p.type&&p.type.toLowerCase(),(0,M.extend2)(p,{hoverfillcolor:(0,M.pluck)(p.fillhovercolor,c.hoverFillColor,p.fillcolor),hoverfillalpha:(0,M.pluck)(p.fillhoveralpha,c.hoverFillAlpha,p.fillalpha),hoverfillratio:(0,M.pluck)(p.fillhoverratio,c.hoverFillRatio,p.fillratio),hoverfillangle:(0,M.pluck)(p.fillhoverangle,c.hoverFillAngle,p.fillangle),hoverborderthickness:(0,M.pluckNumber)(p.borderhoverthickness,c.hoverBorderThickness,p.borderthickness),hoverbordercolor:(0,M.pluck)(p.borderhovercolor,c.hoverBorderColor,p.bordercolor),hoverborderalpha:(0,M.pluck)(p.borderhoveralpha,c.hoverBorderAlpha,p.borderalpha)}),p._hoverattrs={fillalpha:p.hoverfillalpha,fillcolor:p.hoverfillcolor,fillangle:p.hoverfillangle,fillratio:p.hoverfillratio,borderThickness:"0"!==p.showborder?p.hoverborderthickness:0,borderColor:p.hoverbordercolor,borderAlpha:p.hoverborderalpha},p._defaultattrs={fillalpha:p.fillalpha,fillcolor:p.fillcolor,fillangle:p.fillangle,fillratio:p.fillratio,borderThickness:"0"!==p.showborder?p.borderthickness:0,borderColor:p.bordercolor,borderAlpha:p.borderalpha},"image"===p.type?(p.borderthickness=p.borderthickness||0,p.onload=function(e){var t=e.width,e=e.height;n={},p=this.config,r=(Number(p.derivedX)-t/(2*d.sFactor))*d.sFactor,a=(Number(p.derivedY)-e/(2*d.sFactor))*d.sFactor,(n=S[_]||(S[_]={})).x=r+d.translateX,n.y=a+d.translateY,n.element=o,n.shapeInfo={type:"rect",width:t,height:e},t&&e&&N.update(this.getId(),{x:r,y:a,width:t,height:e,autoscale:0}),i.imageLoadCount++,i.imageLoadCount===i.imageCount&&i._buildKdTree()},p.onerror=function(){i.imageLoadCount++,i.imageLoadCount===i.imageCount&&i._buildKdTree()},i.imageCount++):((n=S[_]||(S[_]={})).x=r,n.y=a,n.element=o,n.shapeInfo={type:l,sides:t,radius:Number(g)+p.borderthickness/2,innerradius:e}),u.drawOptions.shape=p,c.showLabels?(h=p.labelpadding||c.labelPadding,w=(F=i._getLabelOptions(v,h,p)).align,A=F.valign,E=u._labelBaseWidth,L=u._labelBaseHeight,x=u._labelXOffset,y=u._labelYOffset,(m=c.labelWrapWidth||i.getWrapWidth[w](E,Number(F.x)+x))>h&&(m-=h),(b=c.labelWrapHeight||i.getWrapHeight[A](L,Number(F.y)+y))>h&&(b-=h),u.drawOptions.label=(0,M.extend2)({type:"text"},{text:k,tooltext:p.tooltext,x:F.x,y:F.y,align:w,valign:F.valign,wrap:1,wrapwidth:m,wrapheight:b,fontsize:f.fontSize/d.sFactor,font:f.fontFamily,color:u.fontColor,bgcolor:u.labelBgColor||"",bordercolor:u.labelBorderColor||""}),{markerShape:p,markerLabel:u.drawOptions.label}):{markerShape:p}},o.highlightPoint=function(e,t){var o=e.element,r=t.originalEvent,a=this.getFromEnv("chart"),n=this.getFromEnv("toolTipController"),l=this.config.currentToolTip,i=a.config.lastHoveredPoint;i&&i!==e&&(i&&this.hoverOutFn(i.element),a.config.lastHoveredPoint=null,n.hide(l)),!1!==e&&("click"===t.type||"touchstart"===t.type?(a.config.lastHoveredPoint!==e&&this.hoverFn(o),this.clickFn(t,o)):"mousemove"===t.type&&a.config.lastHoveredPoint!==e&&this.hoverFn(o),o.config.tooltext&&(l?n.draw(r,o.config.tooltext,l):l=this.config.currentToolTip=n.draw(r,o.config.tooltext)),a.config.lastHoveredPoint=e)},o._drawConnectors=function(){var e,t,o,r,a,n,l,i,s,c,h=this.getFromEnv("chart"),d=h.config.annotationConfig,u=this.components.connectors||(this.components.connectors=[]),p=u.length,g=h.config.scalingParams,f=h.config.connectorOpts,m=f.showLabels,b=this.getChildren("mapAnnotations")[0],k=[],v=[],C=[],y={};for(C.push({id:"connectorLabels",fillalpha:"100",items:v}),C.push({id:"connectors",fillalpha:"100",items:k}),t=0;t<p;t++)u[t]&&(y[t]=!0,n=u[t].config.fromMarker.config,l=u[t].config.toMarker.config,r=n.options.x,n=n.options.y,a=l.options.x,l=l.options.y,u[t].config.x=r,u[t].config.y=n,u[t].config.tox=a,u[t].config.toy=l,c=Object.assign({animationLabel:"markerItem"},u[t].config),k.push(c),u[t].labelConfig&&m&&(u[t].labelConfig.x=((Number(r)+Number(a))/2).toString(),u[t].labelConfig.y=((Number(n)+Number(l))/2).toString(),u[t].labelConfig.fontsize=f.fontSize/(g.scaleFactor*h.config.baseScaleFactor),c=Object.assign({animationLabel:"markerItem"},u[t].labelConfig),v.push(c)));for(i=b.addGroup(Object.assign(d,C[1]),this),s=b.addGroup(Object.assign(d,C[0]),this),o=t=0;t<p;t++)y[t]&&((e=i.items[o])&&(e.data("unfilteredConfig",k[o]),e.addEventListener("fc-mouseover",u[t].config.onmouseover),e.addEventListener("fc-mouseout",u[t].config.onmouseout),e.addEventListener("fc-click",u[t].config.onclick)),u[t].labelConfig&&m&&(e=s.items[o])&&e.data("unfilteredConfig"),o++)},o.getShapeArgs=function(){var e,t=this.config,o=(0,M.extend2)({},this.shapeObj);return t.autoScale=1,o?("polygon"===o.type?o.sides<3?o.type="circle":o.startangle=t.startAngle:"arc"===o.type&&(e=(o.radius||t.markerRadius)*t.autoScale,o.radius=e,o.innerradius=o.innerradius&&o.innerradius*t.autoScale||.6*e),o):null},o._getLabelOptions=function(e,t,o,r,a){var n,l,e=e&&e.toLowerCase();return this.getLabelAlignment[e]||(e="center"),n=Number(o.x),l=Number(o.y),o=r===T||a===T?o.radius||0:/^(top|bottom)$/gi.test(e)&&.5*a||/^(left|right)$/gi.test(e)&&.5*r||0,o=Number(o)+Number(t),this.getLabelAlignment[e](n,l,o)},o.addMarkerItem=function(e){var t,o,r,a,n,l,i=this.getFromEnv("chart"),s=this.components.markerObjs,c=this.components.shapeObjs,h=this.components.markerGroup,d=this.components.markerLabelGroup,u=this.getChildren("mapAnnotations")[0],p=this.getFromEnv("number-formatter"),i=i.config.markerOpts;(l=e.id.toLowerCase())&&!s[l]&&(delete e.value,this.imageLoadCount=0,(t=S._initializeMarkerItem(l,e,null)).dataset=this,n=t.config.options.shapeid,r=t.config,e=e.value,r.cleanValue=p.getCleanValue(e),o=r.options,null!==r.cleanValue?r.formattedValue=p.dataLabels(e):r.formattedValue=T,r.fillColor=(0,M.pluck)(o.fillcolor,o.color,i.fillColor),r.fillAlpha=(0,M.pluck)(o.fillalpha,o.alpha,i.fillAlpha),r.fillRatio=(0,M.pluck)(o.fillratio,i.fillRatio),r.fillAngle=(0,M.pluck)(o.fillangle,i.fillAngle),r.borderThickness=(0,M.pluckNumber)(o.borderthickness,i.borderThickness),r.borderColor=(0,M.pluck)(o.bordercolor,i.borderColor),r.borderAlpha=(0,M.pluck)(o.borderalpha,i.borderAlpha),r.labelPadding=o.labelpadding||i.labelPadding,r.options.tooltext=(0,M.pluck)(o.tooltext,i.tooltext),r.link=o.link,n&&(t.shapeObj=c[n&&n.toLowerCase()]),s[l]=t,p=this._drawMarkerItem(t),h&&d&&(p.markerShape&&(a=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===p.markerShape.type?0:1},p.markerShape),t.markerShape=u.addItem(h.getId(),a,this),t.markerShape.data("unfilteredConfig",a)),p.markerLabel&&(a=Object.assign({animationLabel:"markerItem"},p.markerLabel),t.markerLabel=u.addItem(d.getId(),a,this),t.markerLabel.data("unfilteredConfig",a))),this._buildKdTree())},o.updateMarkerItem=function(e,t){var o,r,a=this.getFromEnv("chart"),n=this.getChildren("mapAnnotations")[0],l=this.components.markerObjs,a=a.config.markerOpts,i={},l=l[e];if(l){for(o in r=l.config.options,(0,M.extend2)(r,t),this.imageLoadCount=0,r=l.config,t)i[o.toLowerCase()]=t[o]&&t[o].toString();r.fillColor=(0,M.pluck)(i.fillcolor,i.color,a.fillColor),r.fillAlpha=(0,M.pluck)(i.fillalpha,i.alpha,a.fillAlpha),r.fillRatio=(0,M.pluck)(i.fillratio,a.fillRatio),r.fillAngle=(0,M.pluck)(i.fillangle,a.fillAngle),r.borderThickness=(0,M.pluckNumber)(i.borderthickness,a.borderThickness),r.borderColor=(0,M.pluck)(i.bordercolor,a.borderColor),r.borderAlpha=(0,M.pluck)(i.borderalpha,a.borderAlpha),r.labelPadding=i.labelpadding||a.labelPadding,r.options.tooltext=(0,M.pluck)(i.tooltext,a.tooltext),r.link=i.link,a=this._drawMarkerItem(l).markerShape,this._buildKdTree(),n.update(e,a)}},o.createContainer=function(){var e=this.getLinkedParent(),t=this.getFromEnv("animationManager"),e=e.getChildContainer("layer1");this.getChildContainer("abovePlotGroup")||this.addChildContainer("abovePlotGroup",t.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:e,component:this,label:"group"})),this.getChildContainer("belowPlotGroup")||this.addChildContainer("belowPlotGroup",t.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:e,component:this,label:"group"}))},o._removeMarkerItem=function(e){var t,o=this.components,r=o.markerObjs,a=r[e],o=o.kdArrayMap,n=this.getChildren("mapAnnotations")[0];a&&(t=a.markerShape,a=a.markerLabel,t&&n.destroy(t.getId()),a&&n.destroy(a.getId()),delete o[e],this._buildKdTree()),delete r[e]},o.getElement=function(e){if(this.components.kDTree)return this.components.kDTree.getNeighbour(e)},S);function S(){var e;return(e=k.call(this)||this).components={},e.getLabelAlignment={top:i,left:s,right:c,bottom:h,center:d},e.getWrapWidth={right:u,left:p,center:g},e.getWrapHeight={top:f,middle:m,bottom:b},e.hoverFn=a,e.hoverOutFn=n,e.clickFn=l,e}t.default=A},1304:function(e,t,o){"use strict";function r(e){e.configure&&e.configure()}var a,n=o(249),l=(t.__esModule=!0,t.default=void 0,n(o(268))),i=o(270),s=o(254),c=o(262),n=n(o(1302)),c=((0,c.addDep)({name:"mapsAnimation",type:"animationRule",extension:n.default}),a=i.ComponentInterface,(0,l.default)(h,a),(o=h.prototype).getType=function(){return"group"},o.getName=function(){return"mapGroup"},o.configure=function(){this._mapChildren(r)},o.createContainer=function(){var e=this.getLinkedParent(),t=this.getFromEnv("animationManager"),o=e.getChildContainer(),r=o.plotGroup;this.getChildContainer("plotShadow")||this.addChildContainer("plotShadow",t.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:r,component:this,label:"group"})),this.getChildContainer("plot")||this.addChildContainer("plot",t.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:r,component:this,label:"group"})),this.getChildContainer("layer0")||this.addChildContainer("layer0",t.setAnimation({el:"group",attr:{name:"ann-layer0",opacity:1},container:o.abovePlotGroup,component:this,label:"group"})),this.getChildContainer("layer1")||this.addChildContainer("layer1",t.setAnimation({el:"group",attr:{name:"ann-layer1",opacity:1},container:o.abovePlotGroup,component:this,label:"group"})),e.config.labelsOnTop?this.getChildContainer("layer0").toFront():this.getChildContainer("layer0").toBack()},o._transformGroup=function(){var t=this,e=this.getFromEnv("chart"),o=e.getFromEnv("chartInstance"),r=t.getFromEnv("animationManager"),a=e.jsonData,n=t.getChildContainer("plot"),l=t.getChildContainer("plotShadow"),i=e.config.scalingParams;n.hide(),l.hide(),e.config.entitiesReady=!1,o.addEventListener("internal.mapdrawingcomplete",function(e){e.detachHandler(),s.hasSVG&&(o.args.link&&o.args.clickedEntityBox&&a.chart.linkedcharttransition,n&&r.setAnimation({el:n,attr:{transform:i.transformStr},component:t,label:"group"}),l&&r.setAnimation({el:l,attr:{transform:i.transformStr},component:t,label:"group"})),n.show(),l.show()}),e.checkComplete()},o.draw=function(){this.createContainer(),this._transformGroup()},o.getDataLimits=function(t){function o(e){n=Math.max(n,e.max),a=Math.min(a,e.min)}var r,a=1/0,n=-1/0,l=0;return this._mapChildren(function(e){e.getState("removed")||!1===e.getState("visible")?t&&(r=e.getDataLimits(t),o(r)):(l++,r=e.getDataLimits(t),o(r))}),l?this.setState("visible",!0):this.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:n,min:a}},h);function h(){return a.apply(this,arguments)||this}t.default=c}}])});